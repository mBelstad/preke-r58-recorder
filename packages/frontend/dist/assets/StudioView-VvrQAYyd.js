import{d as m,u as x,r as h,o as C,b as y,c as l,a as g,e as a,f as M,n as b,t as w,g as _,w as u,h as S,i as B,j as V,k as c,_ as z}from"./index-CJdVQHah.js";const A={class:"studio"},j={class:"studio__content"},E={class:"studio__side studio__side--left"},H=["disabled"],$={class:"studio__icon studio__icon--recorder"},q={key:0,class:"animate-spin",fill:"none",viewBox:"0 0 24 24"},I={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.8"},N={class:"studio__side studio__side--right"},O=["disabled"],P={class:"studio__icon studio__icon--mixer"},T={key:0,class:"animate-spin",fill:"none",viewBox:"0 0 24 24"},D={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.8"},F={class:"studio__views"},L={class:"studio__views-grid"},R={key:0,class:"studio__error"},U=m({__name:"StudioView",setup(W){const f=B(),k=x(),t=h(null),i=h(!1),r=h(null);let o=null;C(async()=>{try{const d=await fetch(await y("/api/mode/idle"),{method:"POST"});d.ok?(console.log("[Studio] Switched to idle mode"),await k.fetchCapabilities()):d.status===404&&console.debug("[Studio] Idle mode endpoint not available")}catch(d){console.debug("[Studio] Idle mode not available:",d)}});async function p(d){if(i.value)return;o&&o.abort(),o=new AbortController;const s=o,v=s.signal;t.value=d,i.value=!0,r.value=null;try{const e=await fetch(await y(`/api/mode/${d}`),{method:"POST",signal:v});if(v.aborted)return;if(!e.ok){const n=await e.json().catch(()=>({}));throw new Error(n.detail||`Failed to switch to ${d} mode`)}if(v.aborted)return;f.push(`/${d}`)}catch(e){if(e instanceof Error&&e.name==="AbortError"){console.log("[Studio] Mode switch cancelled by user");return}const n=e instanceof Error?e.message:"Failed to switch mode";r.value=n,V.error(n),console.error("Mode switch error:",e)}finally{o===s&&(i.value=!1,o=null)}}return(d,s)=>{const v=S("router-link");return c(),l("div",A,[s[15]||(s[15]=g('<div class="studio__geo" data-v-34c49745><div class="geo-layer geo-layer--1" data-v-34c49745><div class="geo-shape geo-shape--1" data-v-34c49745></div><div class="geo-shape geo-shape--2" data-v-34c49745></div><div class="geo-shape geo-shape--3" data-v-34c49745></div><div class="geo-shape geo-shape--4" data-v-34c49745></div><div class="geo-shape geo-shape--5" data-v-34c49745></div></div><div class="geo-layer geo-layer--2" data-v-34c49745><div class="geo-shape geo-shape--6" data-v-34c49745></div><div class="geo-shape geo-shape--7" data-v-34c49745></div><div class="geo-shape geo-shape--8" data-v-34c49745></div><div class="geo-shape geo-shape--9" data-v-34c49745></div><div class="geo-shape geo-shape--10" data-v-34c49745></div></div><div class="geo-layer geo-layer--3" data-v-34c49745><div class="geo-shape geo-shape--11" data-v-34c49745></div><div class="geo-shape geo-shape--12" data-v-34c49745></div><div class="geo-shape geo-shape--13" data-v-34c49745></div><div class="geo-shape geo-shape--14" data-v-34c49745></div><div class="geo-shape geo-shape--15" data-v-34c49745></div></div><div class="geo-layer geo-layer--3-5" data-v-34c49745><div class="geo-shape geo-shape--26" data-v-34c49745></div><div class="geo-shape geo-shape--27" data-v-34c49745></div><div class="geo-shape geo-shape--28" data-v-34c49745></div><div class="geo-shape geo-shape--29" data-v-34c49745></div><div class="geo-shape geo-shape--30" data-v-34c49745></div></div><div class="geo-layer geo-layer--4" data-v-34c49745><div class="geo-shape geo-shape--16" data-v-34c49745></div><div class="geo-shape geo-shape--17" data-v-34c49745></div><div class="geo-shape geo-shape--18" data-v-34c49745></div><div class="geo-shape geo-shape--19" data-v-34c49745></div><div class="geo-shape geo-shape--20" data-v-34c49745></div></div><div class="geo-layer geo-layer--5" data-v-34c49745><div class="geo-shape geo-shape--21" data-v-34c49745></div><div class="geo-shape geo-shape--22" data-v-34c49745></div><div class="geo-shape geo-shape--23" data-v-34c49745></div><div class="geo-shape geo-shape--24" data-v-34c49745></div><div class="geo-shape geo-shape--25" data-v-34c49745></div></div><div class="soundwave soundwave--1" data-v-34c49745><div class="soundwave__bar" style="--i:0;--h:0.3;" data-v-34c49745></div><div class="soundwave__bar" style="--i:1;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:2;--h:0.8;" data-v-34c49745></div><div class="soundwave__bar" style="--i:3;--h:1;" data-v-34c49745></div><div class="soundwave__bar" style="--i:4;--h:0.7;" data-v-34c49745></div><div class="soundwave__bar" style="--i:5;--h:0.4;" data-v-34c49745></div><div class="soundwave__bar" style="--i:6;--h:0.6;" data-v-34c49745></div><div class="soundwave__bar" style="--i:7;--h:0.9;" data-v-34c49745></div><div class="soundwave__bar" style="--i:8;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:9;--h:0.3;" data-v-34c49745></div><div class="soundwave__bar" style="--i:10;--h:0.6;" data-v-34c49745></div><div class="soundwave__bar" style="--i:11;--h:0.8;" data-v-34c49745></div><div class="soundwave__bar" style="--i:12;--h:1;" data-v-34c49745></div><div class="soundwave__bar" style="--i:13;--h:0.7;" data-v-34c49745></div><div class="soundwave__bar" style="--i:14;--h:0.4;" data-v-34c49745></div></div><div class="soundwave soundwave--2" data-v-34c49745><div class="soundwave__bar" style="--i:0;--h:0.2;" data-v-34c49745></div><div class="soundwave__bar" style="--i:1;--h:0.9;" data-v-34c49745></div><div class="soundwave__bar" style="--i:2;--h:0.4;" data-v-34c49745></div><div class="soundwave__bar" style="--i:3;--h:1;" data-v-34c49745></div><div class="soundwave__bar" style="--i:4;--h:0.6;" data-v-34c49745></div><div class="soundwave__bar" style="--i:5;--h:0.3;" data-v-34c49745></div><div class="soundwave__bar" style="--i:6;--h:0.8;" data-v-34c49745></div><div class="soundwave__bar" style="--i:7;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:8;--h:0.7;" data-v-34c49745></div><div class="soundwave__bar" style="--i:9;--h:0.4;" data-v-34c49745></div><div class="soundwave__bar" style="--i:10;--h:0.9;" data-v-34c49745></div></div><div class="soundwave soundwave--3" data-v-34c49745><div class="soundwave__bar" style="--i:0;--h:0.6;" data-v-34c49745></div><div class="soundwave__bar" style="--i:1;--h:0.3;" data-v-34c49745></div><div class="soundwave__bar" style="--i:2;--h:0.9;" data-v-34c49745></div><div class="soundwave__bar" style="--i:3;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:4;--h:1;" data-v-34c49745></div><div class="soundwave__bar" style="--i:5;--h:0.4;" data-v-34c49745></div><div class="soundwave__bar" style="--i:6;--h:0.8;" data-v-34c49745></div><div class="soundwave__bar" style="--i:7;--h:0.2;" data-v-34c49745></div><div class="soundwave__bar" style="--i:8;--h:0.7;" data-v-34c49745></div><div class="soundwave__bar" style="--i:9;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:10;--h:0.6;" data-v-34c49745></div><div class="soundwave__bar" style="--i:11;--h:0.3;" data-v-34c49745></div></div><div class="soundwave soundwave--4" data-v-34c49745><div class="soundwave__bar" style="--i:0;--h:0.4;" data-v-34c49745></div><div class="soundwave__bar" style="--i:1;--h:0.8;" data-v-34c49745></div><div class="soundwave__bar" style="--i:2;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:3;--h:1;" data-v-34c49745></div><div class="soundwave__bar" style="--i:4;--h:0.3;" data-v-34c49745></div><div class="soundwave__bar" style="--i:5;--h:0.7;" data-v-34c49745></div><div class="soundwave__bar" style="--i:6;--h:0.2;" data-v-34c49745></div><div class="soundwave__bar" style="--i:7;--h:0.9;" data-v-34c49745></div><div class="soundwave__bar" style="--i:8;--h:0.6;" data-v-34c49745></div></div><div class="soundwave soundwave--5" data-v-34c49745><div class="soundwave__bar" style="--i:0;--h:0.7;" data-v-34c49745></div><div class="soundwave__bar" style="--i:1;--h:0.4;" data-v-34c49745></div><div class="soundwave__bar" style="--i:2;--h:0.9;" data-v-34c49745></div><div class="soundwave__bar" style="--i:3;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:4;--h:1;" data-v-34c49745></div><div class="soundwave__bar" style="--i:5;--h:0.3;" data-v-34c49745></div><div class="soundwave__bar" style="--i:6;--h:0.8;" data-v-34c49745></div><div class="soundwave__bar" style="--i:7;--h:0.6;" data-v-34c49745></div></div><div class="soundwave soundwave--6" data-v-34c49745><div class="soundwave__bar" style="--i:0;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:1;--h:0.2;" data-v-34c49745></div><div class="soundwave__bar" style="--i:2;--h:0.8;" data-v-34c49745></div><div class="soundwave__bar" style="--i:3;--h:0.4;" data-v-34c49745></div><div class="soundwave__bar" style="--i:4;--h:1;" data-v-34c49745></div><div class="soundwave__bar" style="--i:5;--h:0.7;" data-v-34c49745></div><div class="soundwave__bar" style="--i:6;--h:0.3;" data-v-34c49745></div><div class="soundwave__bar" style="--i:7;--h:0.9;" data-v-34c49745></div><div class="soundwave__bar" style="--i:8;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:9;--h:0.6;" data-v-34c49745></div></div><div class="soundwave soundwave--7" data-v-34c49745><div class="soundwave__bar" style="--i:0;--h:0.3;" data-v-34c49745></div><div class="soundwave__bar" style="--i:1;--h:0.7;" data-v-34c49745></div><div class="soundwave__bar" style="--i:2;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:3;--h:0.9;" data-v-34c49745></div><div class="soundwave__bar" style="--i:4;--h:0.4;" data-v-34c49745></div><div class="soundwave__bar" style="--i:5;--h:1;" data-v-34c49745></div><div class="soundwave__bar" style="--i:6;--h:0.6;" data-v-34c49745></div><div class="soundwave__bar" style="--i:7;--h:0.2;" data-v-34c49745></div></div><div class="soundwave soundwave--8" data-v-34c49745><div class="soundwave__bar" style="--i:0;--h:0.8;" data-v-34c49745></div><div class="soundwave__bar" style="--i:1;--h:0.4;" data-v-34c49745></div><div class="soundwave__bar" style="--i:2;--h:0.6;" data-v-34c49745></div><div class="soundwave__bar" style="--i:3;--h:1;" data-v-34c49745></div><div class="soundwave__bar" style="--i:4;--h:0.3;" data-v-34c49745></div><div class="soundwave__bar" style="--i:5;--h:0.9;" data-v-34c49745></div><div class="soundwave__bar" style="--i:6;--h:0.5;" data-v-34c49745></div><div class="soundwave__bar" style="--i:7;--h:0.7;" data-v-34c49745></div><div class="soundwave__bar" style="--i:8;--h:0.4;" data-v-34c49745></div></div><div class="purple-light purple-light--1" data-v-34c49745></div><div class="purple-light purple-light--2" data-v-34c49745></div><div class="purple-light purple-light--3" data-v-34c49745></div><div class="purple-light purple-light--4" data-v-34c49745></div></div>',1)),a("div",j,[s[8]||(s[8]=a("div",{class:"studio__gradient-light"},null,-1)),a("div",E,[a("button",{onClick:s[0]||(s[0]=e=>p("recorder")),disabled:i.value,class:b(["studio__card studio__card--recorder",{"studio__card--selected":t.value==="recorder"}])},[a("div",$,[i.value&&t.value==="recorder"?(c(),l("svg",q,[...s[2]||(s[2]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(c(),l("svg",I,[...s[3]||(s[3]=[a("rect",{x:"2",y:"5",width:"14",height:"12",rx:"2"},null,-1),a("path",{d:"M16 9l4-2v8l-4-2"},null,-1),a("circle",{cx:"6",cy:"8",r:"2",fill:"currentColor",stroke:"none"},null,-1)])]))]),s[4]||(s[4]=a("h3",null,"Recorder",-1)),a("p",null,w(i.value&&t.value==="recorder"?"Starting...":"Multi-cam ISO"),1)],10,H)]),s[9]||(s[9]=a("div",{class:"studio__center"},[a("span",{class:"studio__badge"},"Choose Mode")],-1)),a("div",N,[a("button",{onClick:s[1]||(s[1]=e=>p("mixer")),disabled:i.value,class:b(["studio__card studio__card--mixer",{"studio__card--selected":t.value==="mixer"}])},[a("div",P,[i.value&&t.value==="mixer"?(c(),l("svg",T,[...s[5]||(s[5]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(c(),l("svg",D,[...s[6]||(s[6]=[g('<rect x="2" y="2" width="9" height="6" rx="1" data-v-34c49745></rect><rect x="13" y="2" width="9" height="6" rx="1" data-v-34c49745></rect><rect x="2" y="10" width="9" height="6" rx="1" data-v-34c49745></rect><rect x="13" y="10" width="9" height="6" rx="1" data-v-34c49745></rect><circle cx="12" cy="20" r="2" fill="currentColor" data-v-34c49745></circle><path d="M9 19.5a4 4 0 0 1 6 0" stroke-linecap="round" data-v-34c49745></path>',6)])]))]),s[7]||(s[7]=a("h3",null,"Mixer",-1)),a("p",null,w(i.value&&t.value==="mixer"?"Starting...":"Live Switching"),1)],10,O)])]),a("div",F,[s[14]||(s[14]=a("span",{class:"studio__views-label"},"Open on Display",-1)),a("div",L,[_(v,{to:"/qr?mode=podcast",class:"studio__view-btn"},{default:u(()=>[...s[10]||(s[10]=[a("svg",{class:"studio__view-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})],-1),a("span",null,"Podcast",-1)])]),_:1}),_(v,{to:"/qr?mode=talking-head",class:"studio__view-btn"},{default:u(()=>[...s[11]||(s[11]=[a("svg",{class:"studio__view-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),a("span",null,"Talking Head",-1)])]),_:1}),_(v,{to:"/qr?mode=course",class:"studio__view-btn"},{default:u(()=>[...s[12]||(s[12]=[a("svg",{class:"studio__view-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1),a("span",null,"Course",-1)])]),_:1}),_(v,{to:"/qr?mode=webinar",class:"studio__view-btn"},{default:u(()=>[...s[13]||(s[13]=[a("svg",{class:"studio__view-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),a("span",null,"Webinar",-1)])]),_:1})])]),r.value?(c(),l("div",R,w(r.value),1)):M("",!0)])}}}),J=z(U,[["__scopeId","data-v-34c49745"]]);export{J as default};
