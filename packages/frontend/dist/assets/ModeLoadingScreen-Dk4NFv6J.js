import{d as D,r as x,E as F,i as g,o as I,k as R,c as l,a as e,B as a,e as j,F as k,y as w,t as _,x as z,h as n,_ as L}from"./index-CF6Mgpgb.js";const N={class:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-preke-bg overflow-hidden"},A={class:"absolute inset-0"},V={class:"relative z-10 flex flex-col items-center gap-10"},E={class:"relative flex items-center justify-center"},P={key:0,class:"relative"},q={key:1,class:"flex items-end gap-1.5 h-14"},G={class:"text-center"},O={class:"text-preke-text-muted text-lg"},U={class:"flex items-center gap-2"},H=D({__name:"ModeLoadingScreen",props:{mode:{},minTime:{default:1500},maxTime:{default:8e3},contentReady:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1}},emits:["ready","cancel"],setup(d,{emit:C}){const o=d,u=C;function T(){u("cancel")}const b=x(!1);let m=null,p=null;function y(){b.value&&o.contentReady&&u("ready")}F(()=>o.contentReady,c=>{c&&y()});const t=g(()=>o.mode==="recorder"?"#ef4444":"#3b82f6"),M=g(()=>o.mode==="recorder"?"Recorder":"Mixer"),B=g(()=>o.mode==="recorder"?"Multi-cam ISO Recording":"Live Switching & Streaming"),r=x([.3,.5,.8,1,.8,.5,.3]);let f=null;const S=x(Date.now());function h(){const c=(Date.now()-S.value)/1e3;r.value=r.value.map((s,i)=>{const v=i/r.value.length*Math.PI*2,$=Math.sin(c*3+v)*.4+.6;return Math.max(.2,Math.min(1,$))}),f=requestAnimationFrame(h)}return I(()=>{h(),m=setTimeout(()=>{b.value=!0,y()},o.minTime),p=setTimeout(()=>{u("ready")},o.maxTime)}),R(()=>{m&&clearTimeout(m),p&&clearTimeout(p),f&&cancelAnimationFrame(f)}),(c,s)=>(n(),l("div",N,[e("div",A,[e("div",{class:"absolute w-[600px] h-[600px] rounded-full blur-3xl opacity-20 animate-float-slow",style:a({background:`radial-gradient(circle, ${t.value} 0%, transparent 70%)`,left:"10%",top:"10%"})},null,4),e("div",{class:"absolute w-[400px] h-[400px] rounded-full blur-3xl opacity-15 animate-float-medium",style:a({background:`radial-gradient(circle, ${t.value} 0%, transparent 70%)`,right:"15%",bottom:"20%"})},null,4),s[0]||(s[0]=e("div",{class:"absolute inset-0 opacity-5",style:{"background-image":"linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)","background-size":"50px 50px"}},null,-1))]),e("div",V,[e("div",E,[e("div",{class:"absolute w-40 h-40 rounded-full animate-ping-slow opacity-20",style:a({backgroundColor:t.value})},null,4),e("div",{class:"relative w-32 h-32 rounded-full flex items-center justify-center backdrop-blur-sm",style:a({backgroundColor:`${t.value}15`,border:`2px solid ${t.value}40`})},[d.mode==="recorder"?(n(),l("div",P,[(n(),l("svg",{class:"w-16 h-16",style:a({color:t.value}),fill:"currentColor",viewBox:"0 0 24 24"},[...s[1]||(s[1]=[e("circle",{cx:"12",cy:"12",r:"8",class:"animate-pulse-glow"},null,-1)])],4)),e("div",{class:"absolute inset-0 rounded-full animate-spin-slow",style:a({border:`3px solid ${t.value}`,borderTopColor:"transparent"})},null,4)])):(n(),l("div",q,[(n(!0),l(k,null,w(r.value,(i,v)=>(n(),l("div",{key:v,class:"w-2 rounded-full transition-all duration-75",style:a({height:`${i*100}%`,backgroundColor:t.value,opacity:.6+i*.4})},null,4))),128))]))],4)]),e("div",G,[e("h2",{class:"text-4xl font-bold mb-3 tracking-tight",style:a({color:t.value})},_(M.value),5),e("p",O,_(B.value),1)]),e("div",U,[(n(),l(k,null,w(3,i=>e("div",{key:i,class:"w-2 h-2 rounded-full animate-bounce-dot",style:a({backgroundColor:t.value,animationDelay:`${(i-1)*.15}s`})},null,4)),64))]),d.showCancel?(n(),l("button",{key:0,onClick:T,class:"loading-cancel-btn"},[...s[2]||(s[2]=[e("svg",{class:"loading-cancel-btn__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"1.8"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),z(" Go back ",-1)])])):j("",!0)])]))}}),K=L(H,[["__scopeId","data-v-88b66c0d"]]);export{K as M};
