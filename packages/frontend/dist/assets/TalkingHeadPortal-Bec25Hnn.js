import{d as j,r as g,H as T,k as w,c as n,o as i,b as t,e as B,y as c,t as u,F as $,z as M,n as I,C as F,q as z,B as N,J as m,_ as R}from"./index--1MZhSDs.js";const V={class:"talking-head-portal space-y-6"},E={class:"glass-card"},P={key:0,class:"text-center py-2"},D={key:1,class:"text-center py-2"},H={class:"glass-card"},J={class:"flex items-center justify-between mb-4 px-1"},A={class:"flex gap-2"},G={class:"space-y-6"},U={class:"p-4 bg-preke-bg-elevated rounded-lg"},q={class:"flex justify-between items-center mb-2"},L={class:"font-mono font-bold text-preke-gold"},K=["value"],O={class:"flex justify-between mt-3"},Q={class:"grid grid-cols-2 gap-3"},W={class:"flex items-center justify-between p-3 bg-preke-bg-elevated rounded-lg"},X={class:"flex items-center gap-1 bg-preke-bg-surface rounded p-1"},Y=["onClick"],Z={class:"border-t border-preke-border pt-4"},_={class:"flex justify-between items-center mb-3"},ee={key:1,class:"flex gap-2"},te=["disabled"],se={key:0},oe={key:1,class:"bg-preke-bg-elevated rounded-lg p-4 max-h-40 overflow-y-auto border border-preke-border/50"},re={class:"whitespace-pre-wrap text-sm text-preke-text-dim"},le={key:0,class:"glass-card"},ne={class:"graphic-preview mb-4"},ie=["src","alt"],de={key:1,class:"w-full aspect-video flex items-center justify-center bg-black/50 text-preke-text-muted"},ae={class:"slide-indicator"},pe={class:"flex items-center gap-3"},ce=["disabled"],ue=["disabled"],ve=j({__name:"TalkingHeadPortal",props:{token:{},status:{},currentSlideIndex:{},isRecording:{type:Boolean},teleprompterSpeed:{},teleprompterScript:{}},emits:["start-recording","stop-recording","prev-slide","next-slide","update-speed","update-script"],setup(l,{emit:y}){const r=l,d=y,a=g(r.teleprompterScript||""),p=g(!1),x=g(3),v=g(!1);T(()=>r.teleprompterScript,o=>{!p.value&&o!==void 0&&(a.value=o)});const b=w(()=>{var o,e;return(e=(o=r.status)==null?void 0:o.project)!=null&&e.graphics?r.status.project.graphics[r.currentSlideIndex]:null}),h=w(()=>{var o,e;return((e=(o=r.status)==null?void 0:o.project)==null?void 0:e.graphics)&&r.status.project.graphics.length>0});async function S(){v.value=!0;try{await m.wordpress.updateTeleprompterScript(r.token,a.value),p.value=!1,d("update-script",a.value)}catch(o){console.error("Failed to save script:",o),alert("Failed to save script")}finally{v.value=!1}}async function k(o){try{await m.wordpress.scrollTeleprompter(r.token,o)}catch(e){console.error("Failed to scroll:",e)}}async function f(o){try{await m.wordpress.jumpTeleprompter(r.token,o)}catch(e){console.error("Failed to jump:",e)}}async function C(o){x.value=o;try{await m.wordpress.setTeleprompterTextSize(r.token,o)}catch(e){console.error("Failed to set text size:",e)}}return(o,e)=>(i(),n("div",V,[t("div",E,[e[17]||(e[17]=t("h2",{class:"text-lg font-semibold mb-4 px-1"},"Recording Controls",-1)),l.isRecording?(i(),n("div",D,[e[16]||(e[16]=t("div",{class:"recording-indicator mb-6"},[t("div",{class:"recording-dot"}),t("span",{class:"text-xl font-medium text-preke-red-light"},"Recording in progress")],-1)),t("button",{onClick:e[1]||(e[1]=s=>d("stop-recording")),class:"btn-v2 btn-v2--danger w-full touch-target text-lg font-medium"},[...e[15]||(e[15]=[t("svg",{class:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[t("rect",{x:"6",y:"6",width:"8",height:"8",rx:"1"})],-1),c(" Stop Recording ",-1)])])])):(i(),n("div",P,[t("button",{onClick:e[0]||(e[0]=s=>d("start-recording")),class:"record-button touch-target"},[...e[14]||(e[14]=[t("div",{class:"record-button-inner"},[t("svg",{class:"w-12 h-12",fill:"currentColor",viewBox:"0 0 20 20"},[t("circle",{cx:"10",cy:"10",r:"8"})])],-1),t("span",{class:"mt-3 block text-lg font-semibold"},"Start Recording",-1)])])]))]),t("div",H,[t("div",J,[e[20]||(e[20]=t("h2",{class:"text-lg font-semibold"},"Teleprompter",-1)),t("div",A,[t("button",{onClick:e[2]||(e[2]=s=>f("top")),class:"btn-v2 btn-v2--glass btn-sm",title:"Jump to Top"},[...e[18]||(e[18]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)])]),t("button",{onClick:e[3]||(e[3]=s=>f("bottom")),class:"btn-v2 btn-v2--glass btn-sm",title:"Jump to Bottom"},[...e[19]||(e[19]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1)])])])]),t("div",G,[t("div",U,[t("div",q,[e[21]||(e[21]=t("span",{class:"text-preke-text-dim font-medium"},"Scroll Speed",-1)),t("span",L,u(l.teleprompterSpeed)+"%",1)]),t("input",{type:"range",min:"1",max:"100",value:l.teleprompterSpeed,onInput:e[4]||(e[4]=s=>d("update-speed",parseInt(s.target.value))),class:"w-full h-3 bg-preke-bg-surface rounded-lg appearance-none cursor-pointer accent-preke-gold"},null,40,K),t("div",O,[t("button",{onClick:e[5]||(e[5]=s=>d("update-speed",Math.max(1,l.teleprompterSpeed-5))),class:"btn-v2 btn-v2--glass btn-sm touch-target w-12"}," - "),t("button",{onClick:e[6]||(e[6]=s=>d("update-speed",Math.min(100,l.teleprompterSpeed+5))),class:"btn-v2 btn-v2--glass btn-sm touch-target w-12"}," + ")])]),t("div",Q,[t("button",{onClick:e[7]||(e[7]=s=>k("up")),class:"btn-v2 btn-v2--secondary touch-target flex justify-center items-center py-4"},[...e[22]||(e[22]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1),c(" Scroll Up ",-1)])]),t("button",{onClick:e[8]||(e[8]=s=>k("down")),class:"btn-v2 btn-v2--secondary touch-target flex justify-center items-center py-4"},[...e[23]||(e[23]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1),c(" Scroll Down ",-1)])])]),t("div",W,[e[24]||(e[24]=t("span",{class:"text-preke-text-dim font-medium"},"Text Size",-1)),t("div",X,[(i(),n($,null,M(5,s=>t("button",{key:s,onClick:ge=>C(s),class:I(["w-8 h-8 rounded flex items-center justify-center transition-colors",x.value===s?"bg-preke-gold text-preke-bg-base":"text-preke-text-muted hover:bg-white/10"])},[t("span",{style:F({fontSize:`${.7+s*.15}rem`})},"A",4)],10,Y)),64))])]),t("div",Z,[t("div",_,[e[25]||(e[25]=t("h3",{class:"font-medium text-preke-text-dim"},"Script",-1)),p.value?(i(),n("div",ee,[t("button",{onClick:e[10]||(e[10]=s=>{p.value=!1,a.value=r.teleprompterScript||""}),class:"text-preke-text-muted text-xs hover:text-white px-2 py-1"}," Cancel "),t("button",{onClick:S,disabled:v.value,class:"text-preke-gold text-xs font-bold hover:text-preke-gold-light px-2 py-1 bg-preke-gold-glow rounded"},u(v.value?"Saving...":"Save"),9,te)])):(i(),n("button",{key:0,onClick:e[9]||(e[9]=s=>p.value=!0),class:"text-preke-gold text-sm font-medium hover:underline px-2 py-1"}," Edit Script "))]),p.value?(i(),n("div",se,[z(t("textarea",{"onUpdate:modelValue":e[11]||(e[11]=s=>a.value=s),rows:"8",class:"w-full bg-preke-bg-elevated border border-preke-border rounded-lg p-3 text-preke-text-primary focus:border-preke-gold focus:outline-none resize-y",placeholder:"Enter your script here..."},null,512),[[N,a.value]])])):(i(),n("div",oe,[t("p",re,u(a.value||"No script loaded."),1)]))])])]),h.value?(i(),n("div",le,[e[28]||(e[28]=t("h2",{class:"text-lg font-semibold mb-3 px-1"},"Presentation",-1)),t("div",ne,[b.value?(i(),n("img",{key:0,src:b.value.url,alt:b.value.filename,class:"w-full h-auto object-contain bg-black/50"},null,8,ie)):(i(),n("div",de," No preview available ")),t("div",ae,u(l.currentSlideIndex+1)+" / "+u(l.status.project.graphics.length),1)]),t("div",pe,[t("button",{onClick:e[12]||(e[12]=s=>d("prev-slide")),disabled:l.currentSlideIndex===0,class:"btn-v2 btn-v2--glass flex-1 touch-target text-lg py-4"},[...e[26]||(e[26]=[t("svg",{class:"w-6 h-6 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),c(" Previous ",-1)])],8,ce),t("button",{onClick:e[13]||(e[13]=s=>d("next-slide")),disabled:l.currentSlideIndex>=l.status.project.graphics.length-1,class:"btn-v2 btn-v2--glass flex-1 touch-target text-lg py-4"},[...e[27]||(e[27]=[c(" Next ",-1),t("svg",{class:"w-6 h-6 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,ue)])])):B("",!0)]))}}),be=R(ve,[["__scopeId","data-v-681ea9d5"]]);export{be as default};
