import{d as f,r as c,c as l,a as r,b as m,e as p,n as x,t as d,f as h,u as b,g,o as i}from"./index-BycK3Oov.js";const y={class:"h-full flex flex-col items-center justify-center p-8"},w={class:"flex gap-6"},_=["disabled"],k={class:"h-full flex flex-col items-center justify-center gap-4"},C={class:"w-16 h-16 rounded-full bg-r58-recorder/20 flex items-center justify-center group-hover:scale-110 transition-transform"},S={key:0,class:"w-8 h-8 text-r58-recorder animate-spin",fill:"none",viewBox:"0 0 24 24"},M={key:1,class:"w-8 h-8 text-r58-recorder",fill:"currentColor",viewBox:"0 0 24 24"},B={class:"text-center"},j={class:"text-sm text-r58-text-secondary"},V=["disabled"],z={class:"h-full flex flex-col items-center justify-center gap-4"},$={class:"w-16 h-16 rounded-full bg-r58-mixer/20 flex items-center justify-center group-hover:scale-110 transition-transform"},E={key:0,class:"w-8 h-8 text-r58-mixer animate-spin",fill:"none",viewBox:"0 0 24 24"},A={key:1,class:"w-8 h-8 text-r58-mixer",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"2"},N={class:"text-center"},F={class:"text-sm text-r58-text-secondary"},H={key:0,class:"mt-4 text-r58-accent-danger text-sm"},R=f({__name:"StudioView",setup(O){const v=b(),s=c("recorder"),t=c(!1),a=c(null);async function u(n){if(!t.value){s.value=n,t.value=!0,a.value=null;try{const e=await fetch(h(`/api/mode/${n}`),{method:"POST"});if(!e.ok){const o=await e.json().catch(()=>({}));throw new Error(o.detail||`Failed to switch to ${n} mode`)}v.push(`/${n}`)}catch(e){const o=e instanceof Error?e.message:"Failed to switch mode";a.value=o,g.error(o),console.error("Mode switch error:",e)}finally{t.value=!1}}}return(n,e)=>(i(),l("div",y,[e[8]||(e[8]=r("h1",{class:"text-4xl font-bold mb-2"},"Preke Studio",-1)),e[9]||(e[9]=r("p",{class:"text-r58-text-secondary mb-12"},"Select a mode to begin",-1)),r("div",w,[r("button",{onClick:e[0]||(e[0]=o=>u("recorder")),disabled:t.value,class:x(["group relative w-64 h-48 rounded-2xl border-2 transition-all duration-300 disabled:opacity-60 disabled:cursor-wait",[s.value==="recorder"?"border-r58-recorder bg-r58-recorder/10":"border-r58-bg-tertiary hover:border-r58-recorder/50 hover:bg-r58-bg-secondary"]])},[r("div",k,[r("div",C,[t.value&&s.value==="recorder"?(i(),l("svg",S,[...e[2]||(e[2]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),l("svg",M,[...e[3]||(e[3]=[r("circle",{cx:"12",cy:"12",r:"8"},null,-1)])]))]),r("div",B,[e[4]||(e[4]=r("h3",{class:"text-xl font-semibold"},"Recorder",-1)),r("p",j,d(t.value&&s.value==="recorder"?"Switching mode...":"Multi-cam ISO recording"),1)])])],10,_),r("button",{onClick:e[1]||(e[1]=o=>u("mixer")),disabled:t.value,class:x(["group relative w-64 h-48 rounded-2xl border-2 transition-all duration-300 disabled:opacity-60 disabled:cursor-wait",[s.value==="mixer"?"border-r58-mixer bg-r58-mixer/10":"border-r58-bg-tertiary hover:border-r58-mixer/50 hover:bg-r58-bg-secondary"]])},[r("div",z,[r("div",$,[t.value&&s.value==="mixer"?(i(),l("svg",E,[...e[5]||(e[5]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),l("svg",A,[...e[6]||(e[6]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16m-7 6h7"},null,-1),r("circle",{cx:"8",cy:"6",r:"2",fill:"currentColor"},null,-1),r("circle",{cx:"16",cy:"12",r:"2",fill:"currentColor"},null,-1),r("circle",{cx:"12",cy:"18",r:"2",fill:"currentColor"},null,-1)])]))]),r("div",N,[e[7]||(e[7]=r("h3",{class:"text-xl font-semibold"},"Mixer",-1)),r("p",F,d(t.value&&s.value==="mixer"?"Switching mode...":"Live switching & streaming"),1)])])],10,V)]),a.value?(i(),l("div",H,d(a.value),1)):m("",!0),e[10]||(e[10]=p('<div class="mt-12 flex gap-8 text-sm text-r58-text-secondary"><div class="flex items-center gap-2"><span class="w-2 h-2 rounded-full bg-r58-accent-success"></span><span>4 inputs available</span></div><div class="flex items-center gap-2"><span class="w-2 h-2 rounded-full bg-r58-accent-success"></span><span>Storage: 256 GB free</span></div></div>',1))]))}});export{R as default};
