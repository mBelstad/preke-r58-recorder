const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DUBhsRZp.js","assets/index-n7u0C3Yf.css"])))=>i.map(i=>d[i]);
import{d as X,u as me,a0 as xe,r as y,o as H,b as ee,l as te,c as n,e,q as m,t as u,f as D,n as j,x as M,F as T,y as N,a as fe,i as s,_ as ue,E as ie,w as L,Q as le,R as ge,P as pe,j as B,B as re,N as U,k as be,A as Z,a1 as ke,I as se,m as Y,p as ne,a2 as _e}from"./index-DUBhsRZp.js";import{g as he,V as de}from"./vdoninja-BtEraQ-W.js";const we={class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},ye={class:"card"},$e={key:0,class:"text-preke-red"},je={key:1,class:"space-y-3"},De={class:"flex justify-between items-center"},Se={key:0,class:"skeleton w-24 h-5"},Ae={key:1,class:"font-medium"},Ce={class:"flex justify-between items-center"},Re={key:0,class:"skeleton w-16 h-5"},Pe={key:1,class:"capitalize"},Ve={class:"flex justify-between items-center"},Te={key:0,class:"skeleton w-12 h-5"},Ie={key:1},Oe={class:"flex justify-between items-center"},Me={key:0,class:"skeleton w-20 h-5"},Ne={key:1,class:"badge badge-success"},Ee={key:0,class:"flex flex-col gap-2 pt-2 border-t border-preke-border"},Fe={class:"flex flex-col gap-1 text-xs"},Ue=["href"],Be=["href"],Le={class:"card"},He={class:"space-y-4"},ze={class:"flex items-center justify-between"},Ge={key:0,class:"skeleton w-20 h-5 rounded-full"},We={class:"flex gap-2"},qe=["disabled"],Je={key:0,class:"inline-block animate-spin mr-1"},Ke=["disabled"],Qe={key:0,class:"inline-block animate-spin mr-1"},Xe={key:0,class:"text-sm text-preke-red"},Ye={class:"card"},Ze={class:"space-y-3"},et={class:"flex justify-between items-center"},tt={key:0,class:"skeleton w-20 h-5 rounded-full"},st={class:"flex justify-between items-center"},nt={key:0,class:"skeleton w-20 h-5 rounded-full"},at={class:"flex justify-between items-center"},ot={key:0,class:"skeleton w-20 h-5 rounded-full"},it={key:1,class:"badge badge-success"},lt={class:"flex justify-between items-center"},rt={key:0,class:"skeleton w-20 h-5 rounded-full"},dt={key:1,class:"badge badge-success"},ct={class:"card md:col-span-2 lg:col-span-3"},ut={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},pt={class:"flex items-center justify-between mb-3"},vt={class:"flex items-center gap-2"},mt={class:"font-medium"},xt={class:"space-y-1 text-sm text-preke-text-dim"},ft={class:"flex justify-between"},gt={class:"text-preke-text"},bt={class:"flex justify-between"},kt={class:"text-preke-text"},_t={class:"flex justify-between"},ht={class:"text-preke-text font-mono text-xs"},wt={key:0,class:"col-span-full text-center text-preke-text-dim py-8"},yt=X({__name:"DeviceStatus",setup(z){const r=me(),{capabilities:d,loading:_,error:h}=xe(r),f=y(""),g=y("");H(async()=>{try{f.value=await ee("/reveal"),g.value=await ee("/reveal/graphics")}catch(k){console.error("Failed to build reveal.js URLs:",k)}});const w=y(!1),x=y(null);let c=null;async function S(k){if(!w.value){w.value=!0,x.value=null;try{const a=await fetch(await ee(`/api/mode/${k}`),{method:"POST"});if(!a.ok){const V=await a.json().catch(()=>({}));throw new Error(V.detail||`Failed to switch to ${k} mode`)}await r.fetchCapabilities()}catch(a){x.value=a instanceof Error?a.message:"Failed to switch mode",console.error("Mode switch error:",a)}finally{w.value=!1}}}function R(k,a){if(!a)return"bg-preke-text-dim";switch(k){case"streaming":case"recording":return"bg-preke-green";case"preview":return"bg-preke-blue";case"idle":return"bg-preke-text-dim";case"error":return"bg-preke-red";default:return"bg-preke-text-dim"}}function A(k,a){if(!a)return"No Signal";switch(k){case"streaming":return"Streaming";case"recording":return"Recording";case"preview":return"Preview";case"idle":return"Idle";case"error":return"Error";default:return k}}return H(()=>{r.fetchCapabilities(),c=setInterval(()=>{r.fetchCapabilities()},1e4)}),te(()=>{c&&clearInterval(c)}),(k,a)=>{var V,G,I,W,E,q,J,F,K,i,o,v,l,t,b,C;return s(),n("div",we,[e("div",ye,[a[7]||(a[7]=e("h3",{class:"text-sm font-semibold text-preke-text-dim uppercase tracking-wide mb-4"},"Device Info",-1)),m(h)&&!m(d)?(s(),n("div",$e,u(m(h)),1)):(s(),n("div",je,[e("div",De,[a[2]||(a[2]=e("span",{class:"text-preke-text-dim"},"Device Name",-1)),m(_)&&!m(d)?(s(),n("div",Se)):(s(),n("span",Ae,u(((V=m(d))==null?void 0:V.device_name)||"R58 Device"),1))]),e("div",Ce,[a[3]||(a[3]=e("span",{class:"text-preke-text-dim"},"Platform",-1)),m(_)&&!m(d)?(s(),n("div",Re)):(s(),n("span",Pe,u(((G=m(d))==null?void 0:G.platform)||"-"),1))]),e("div",Ve,[a[4]||(a[4]=e("span",{class:"text-preke-text-dim"},"API Version",-1)),m(_)&&!m(d)?(s(),n("div",Te)):(s(),n("span",Ie,u(((I=m(d))==null?void 0:I.api_version)||"-"),1))]),e("div",Oe,[a[5]||(a[5]=e("span",{class:"text-preke-text-dim"},"GStreamer",-1)),m(_)&&!m(d)?(s(),n("div",Me)):(s(),n("span",Ne,"Initialized"))]),(E=(W=m(d))==null?void 0:W.reveal_js)!=null&&E.available?(s(),n("div",Ee,[a[6]||(a[6]=e("div",{class:"flex justify-between items-center"},[e("span",{class:"text-preke-text-dim text-xs"},"Reveal.js"),e("span",{class:"badge badge-success text-xs"},"Available")],-1)),e("div",Fe,[f.value?(s(),n("a",{key:0,href:f.value,target:"_blank",class:"text-preke-blue hover:text-preke-gold transition-colors truncate",title:"Open Reveal.js Demo"}," Demo Presentation ",8,Ue)):D("",!0),g.value?(s(),n("a",{key:1,href:g.value,target:"_blank",class:"text-preke-blue hover:text-preke-gold transition-colors truncate",title:"Open Reveal.js Graphics"}," Graphics Presentation ",8,Be)):D("",!0)])])):D("",!0)]))]),e("div",Le,[a[11]||(a[11]=e("h3",{class:"text-sm font-semibold text-preke-text-dim uppercase tracking-wide mb-4"},"Operating Mode",-1)),e("div",He,[e("div",ze,[a[8]||(a[8]=e("span",{class:"text-preke-text-dim"},"Current Mode",-1)),m(_)&&!m(d)?(s(),n("div",Ge)):(s(),n("span",{key:1,class:j(["badge",((q=m(d))==null?void 0:q.current_mode)==="mixer"?"badge-info":"badge-success"])},u(((J=m(d))==null?void 0:J.current_mode)==="mixer"?"Mixer":"Recorder"),3))]),e("div",We,[e("button",{class:j(["btn btn-sm flex-1",((F=m(d))==null?void 0:F.current_mode)==="recorder"?"btn-primary":"btn-secondary"]),disabled:w.value||((K=m(d))==null?void 0:K.current_mode)==="recorder"||m(_)&&!m(d),onClick:a[0]||(a[0]=p=>S("recorder"))},[w.value&&((i=m(d))==null?void 0:i.current_mode)!=="recorder"?(s(),n("span",Je,"⟳")):D("",!0),a[9]||(a[9]=M(" Recorder ",-1))],10,qe),e("button",{class:j(["btn btn-sm flex-1",((o=m(d))==null?void 0:o.current_mode)==="mixer"?"btn-primary":"btn-secondary"]),disabled:w.value||((v=m(d))==null?void 0:v.current_mode)==="mixer"||m(_)&&!m(d),onClick:a[1]||(a[1]=p=>S("mixer"))},[w.value&&((l=m(d))==null?void 0:l.current_mode)!=="mixer"?(s(),n("span",Qe,"⟳")):D("",!0),a[10]||(a[10]=M(" Mixer ",-1))],10,Ke)]),x.value?(s(),n("div",Xe,u(x.value),1)):D("",!0)])]),e("div",Ye,[a[16]||(a[16]=e("h3",{class:"text-sm font-semibold text-preke-text-dim uppercase tracking-wide mb-4"},"Available Features",-1)),e("div",Ze,[e("div",et,[a[12]||(a[12]=e("div",null,[e("span",null,"Mixer"),e("span",{class:"text-xs text-preke-text-dim ml-1"},"(VDO.ninja)")],-1)),m(_)&&!m(d)?(s(),n("div",tt)):(s(),n("span",{key:1,class:j(["badge",m(r).mixerEnabled?"badge-success":"badge-warning"])},u(m(r).mixerEnabled?"Available":"Disabled"),3))]),e("div",st,[a[13]||(a[13]=e("span",null,"Recorder",-1)),m(_)&&!m(d)?(s(),n("div",nt)):(s(),n("span",{key:1,class:j(["badge",m(r).recorderEnabled?"badge-success":"badge-warning"])},u(m(r).recorderEnabled?"Available":"Disabled"),3))]),e("div",at,[a[14]||(a[14]=e("span",null,"Graphics Overlay",-1)),m(_)&&!m(d)?(s(),n("div",ot)):(s(),n("span",it,"Available"))]),e("div",lt,[a[15]||(a[15]=e("span",null,"WebRTC Preview",-1)),m(_)&&!m(d)?(s(),n("div",rt)):(s(),n("span",dt,"Available"))])])]),e("div",ct,[a[21]||(a[21]=e("h3",{class:"text-sm font-semibold text-preke-text-dim uppercase tracking-wide mb-4"},"Hardware Inputs",-1)),e("div",ut,[m(_)&&!m(d)?(s(),n(T,{key:0},N(4,p=>e("div",{key:p,class:"p-4 rounded-lg bg-preke-bg-surface border border-preke-border"},[...a[17]||(a[17]=[fe('<div class="flex items-center justify-between mb-3" data-v-60ba1c7a><div class="flex items-center gap-2" data-v-60ba1c7a><div class="skeleton w-2 h-2 rounded-full" data-v-60ba1c7a></div><div class="skeleton w-16 h-5" data-v-60ba1c7a></div></div><div class="skeleton w-16 h-4 rounded-full" data-v-60ba1c7a></div></div><div class="space-y-2" data-v-60ba1c7a><div class="flex justify-between" data-v-60ba1c7a><div class="skeleton w-8 h-4" data-v-60ba1c7a></div><div class="skeleton w-12 h-4" data-v-60ba1c7a></div></div><div class="flex justify-between" data-v-60ba1c7a><div class="skeleton w-16 h-4" data-v-60ba1c7a></div><div class="skeleton w-20 h-4" data-v-60ba1c7a></div></div><div class="flex justify-between" data-v-60ba1c7a><div class="skeleton w-10 h-4" data-v-60ba1c7a></div><div class="skeleton w-14 h-4" data-v-60ba1c7a></div></div></div>',2)])])),64)):(s(),n(T,{key:1},[(s(!0),n(T,null,N(((t=m(d))==null?void 0:t.inputs)||[],p=>{var P;return s(),n("div",{key:p.id,class:j(["p-4 rounded-lg bg-preke-bg-surface border border-preke-border",{"border-preke-green/50":p.has_signal}])},[e("div",pt,[e("div",vt,[e("span",{class:j(["w-2 h-2 rounded-full animate-pulse",R(p.status,p.has_signal)])},null,2),e("span",mt,u(p.label),1)]),e("span",{class:j(["text-xs px-2 py-0.5 rounded-full",{"bg-preke-green/20 text-preke-green":p.has_signal&&(p.status==="streaming"||p.status==="recording"),"bg-preke-blue/20 text-preke-blue":p.has_signal&&p.status==="preview","bg-preke-bg-surface text-preke-text-dim":!p.has_signal||p.status==="idle"}])},u(A(p.status,p.has_signal)),3)]),e("div",xt,[e("div",ft,[a[18]||(a[18]=e("span",null,"Type",-1)),e("span",gt,u(p.type.toUpperCase()),1)]),e("div",bt,[a[19]||(a[19]=e("span",null,"Resolution",-1)),e("span",kt,u(p.max_resolution||"N/A"),1)]),e("div",_t,[a[20]||(a[20]=e("span",null,"Device",-1)),e("span",ht,u(((P=p.device_path)==null?void 0:P.split("/").pop())||"N/A"),1)])])],2)}),128)),(C=(b=m(d))==null?void 0:b.inputs)!=null&&C.length?D("",!0):(s(),n("div",wt," No inputs detected "))],64))])])])}}}),$t=ue(yt,[["__scopeId","data-v-60ba1c7a"]]),jt={class:"space-y-4"},Dt={class:"flex items-center gap-4 flex-wrap"},St=["value"],At={class:"flex items-center gap-2 cursor-pointer"},Ct=["disabled"],Rt={key:0},Pt={key:1},Vt={class:"bg-preke-bg-base rounded-lg p-4 font-mono text-sm text-preke-text-dim h-[500px] overflow-auto whitespace-pre-wrap"},Tt=X({__name:"LogViewer",props:{service:{}},setup(z){const r=z,d=y(""),_=y(!1),h=y(r.service||"preke-recorder"),f=y(100),g=y(!1),w=[{id:"preke-recorder",label:"Preke Recorder"},{id:"mediamtx",label:"MediaMTX"}];let x=null;async function c(){_.value=!0;try{const k=await(await fetch(await ee(`/api/system/logs?service=${h.value}&lines=${f.value}`))).json();d.value=k.logs||"No logs available"}catch(A){d.value=`Error fetching logs: ${A}`}finally{_.value=!1}}function S(){x&&clearInterval(x),x=window.setInterval(c,5e3)}function R(){x&&(clearInterval(x),x=null)}return ie(g,A=>{A?S():R()}),ie([h,f],()=>{c()}),H(()=>{c()}),te(()=>{R()}),(A,k)=>(s(),n("div",jt,[e("div",Dt,[L(e("select",{"onUpdate:modelValue":k[0]||(k[0]=a=>h.value=a),class:"input"},[(s(),n(T,null,N(w,a=>e("option",{key:a.id,value:a.id},u(a.label),9,St)),64))],512),[[le,h.value]]),L(e("select",{"onUpdate:modelValue":k[1]||(k[1]=a=>f.value=a),class:"input"},[...k[3]||(k[3]=[e("option",{value:50},"50 lines",-1),e("option",{value:100},"100 lines",-1),e("option",{value:250},"250 lines",-1),e("option",{value:500},"500 lines",-1)])],512),[[le,f.value]]),e("label",At,[L(e("input",{type:"checkbox","onUpdate:modelValue":k[2]||(k[2]=a=>g.value=a),class:"w-4 h-4 rounded"},null,512),[[ge,g.value]]),k[4]||(k[4]=e("span",{class:"text-sm"},"Auto-refresh",-1))]),e("button",{onClick:c,disabled:_.value,class:"btn"},[_.value?(s(),n("span",Rt,"Loading...")):(s(),n("span",Pt,"Refresh"))],8,Ct)]),e("pre",Vt,u(d.value||"No logs available"),1)]))}}),It={class:"space-y-6"},Ot={class:"flex items-center justify-between"},Mt=["disabled"],Nt={key:0},Et={key:1},Ft={key:0,class:"flex items-center justify-center py-12"},Ut={key:1,class:"text-center py-12 text-preke-text-dim"},Bt={key:2,class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},Lt=["onClick"],Ht={class:"flex items-start justify-between mb-4"},zt={class:"font-semibold"},Gt={class:"text-sm text-preke-text-dim"},Wt={class:"space-y-2 text-sm"},qt={class:"flex justify-between"},Jt={class:"font-mono"},Kt={class:"flex justify-between"},Qt=X({__name:"FleetOverview",setup(z){const r=y([]),d=y(!0),_=y(!1);async function h(){d.value=!0;try{const w=await fetch("/api/v1/lan-devices");if(w.ok){const x=await w.json();r.value=x.map(c=>({id:c.id,name:c.name,ip:c.ip,status:c.status,lastSeen:c.last_seen,version:c.api_version||"unknown"}))}}catch(w){console.error("Failed to fetch LAN devices:",w)}finally{d.value=!1}}H(h);async function f(){_.value=!0;try{const w=await fetch("/api/v1/lan-devices/scan",{method:"POST"});if(w.ok){const x=await w.json();for(const c of x)r.value.find(R=>R.id===c.id)||r.value.push({id:c.id,name:c.name,ip:c.ip,status:c.status,lastSeen:c.last_seen,version:c.api_version||"unknown"})}}catch(w){console.error("LAN network scan failed:",w)}finally{_.value=!1}}async function g(w){try{const c=await(await fetch(`/api/v1/lan-devices/${w.id}/connect`,{method:"POST"})).json();c.connected?window.open(`http://${w.ip}:8000`,"_blank"):alert(`Failed to connect: ${c.error||"Unknown error"}`)}catch(x){console.error("Failed to connect to device:",x)}}return(w,x)=>(s(),n("div",It,[e("div",Ot,[x[0]||(x[0]=e("h2",{class:"text-lg font-semibold"},"LAN Devices",-1)),e("button",{onClick:f,disabled:_.value,class:"btn"},[_.value?(s(),n("span",Nt,"Scanning...")):(s(),n("span",Et,"Scan Network"))],8,Mt)]),d.value?(s(),n("div",Ft,[...x[1]||(x[1]=[e("div",{class:"animate-spin w-8 h-8 border-2 border-preke-gold border-t-transparent rounded-full"},null,-1)])])):r.value.length===0?(s(),n("div",Ut,[...x[2]||(x[2]=[e("p",null,"No devices found",-1),e("p",{class:"text-sm mt-2"},'Click "Scan Network" to discover R58 devices',-1)])])):(s(),n("div",Bt,[(s(!0),n(T,null,N(r.value,c=>(s(),n("div",{key:c.id,class:"card hover:border-preke-gold/50 transition-colors cursor-pointer",onClick:S=>g(c)},[e("div",Ht,[e("div",null,[e("h3",zt,u(c.name),1),e("p",Gt,u(c.id),1)]),e("span",{class:j(["badge",{"badge-success":c.status==="online","badge-danger":c.status==="offline","badge-warning":c.status==="unknown"}])},u(c.status),3)]),e("div",Wt,[e("div",qt,[x[3]||(x[3]=e("span",{class:"text-preke-text-dim"},"IP Address",-1)),e("span",Jt,u(c.ip),1)]),e("div",Kt,[x[4]||(x[4]=e("span",{class:"text-preke-text-dim"},"Version",-1)),e("span",null,u(c.version),1)])])],8,Lt))),128))]))]))}}),Xt={class:"space-y-6"},Yt={key:0,class:"flex items-center justify-center py-12"},Zt={key:1,class:"glass-card p-4 bg-preke-red/10 border border-preke-red/30 rounded-xl"},es={class:"text-preke-red"},ts={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},ss={class:"glass-card p-4 rounded-xl"},ns={key:0,class:"space-y-3"},as={class:"relative w-full h-3 bg-preke-bg rounded-full overflow-hidden"},os={class:"flex justify-between text-sm"},is={class:"font-mono text-preke-text"},ls={key:1,class:"flex items-center justify-center py-4"},rs={class:"glass-card p-4 rounded-xl"},ds={key:0,class:"space-y-3"},cs={class:"relative w-full h-3 bg-preke-bg rounded-full overflow-hidden"},us={class:"flex justify-between text-sm"},ps={class:"text-preke-text"},vs={key:1,class:"flex items-center justify-center py-4"},ms={class:"glass-card p-4 rounded-xl"},xs={class:"flex items-center justify-center py-2"},fs={key:1,class:"text-preke-text-muted"},gs={key:0,class:"text-center text-xs text-preke-text-muted"},bs={class:"glass-card p-4 rounded-xl"},ks={class:"flex items-center justify-center py-2"},_s={key:0,class:"text-3xl font-bold text-preke-gold"},hs={key:1,class:"text-preke-text-muted"},ws={class:"text-center text-xs text-preke-text-muted"},ys={class:"glass-card p-4 rounded-xl"},$s={class:"flex items-center justify-between mb-4"},js={class:"flex items-center gap-3"},Ds={class:"flex gap-2"},Ss=["disabled"],As={key:0,class:"animate-spin inline-block w-3 h-3 border border-current border-t-transparent rounded-full mr-1"},Cs=["disabled"],Rs={key:0,class:"animate-spin inline-block w-3 h-3 border border-current border-t-transparent rounded-full mr-1"},Ps=["disabled"],Vs={class:"p-3 rounded-lg bg-preke-surface border border-preke-surface-border"},Ts={class:"flex items-center justify-between"},Is={class:"flex items-center gap-3"},Os={class:"text-xs text-preke-text-muted"},Ms={class:"text-right"},Ns={key:0,class:"text-sm text-preke-text"},Es={class:"glass-card p-4 rounded-xl"},Fs={class:"flex items-center justify-between mb-4"},Us={class:"flex gap-2"},Bs={class:"grid gap-3 sm:grid-cols-3"},Ls={class:"flex items-center gap-3"},Hs={class:"font-medium text-preke-text"},zs={class:"text-xs text-preke-text-muted"},Gs={key:0},Ws=["onClick"],qs={key:1,class:"text-xs text-preke-text-muted"},Js={class:"glass-card p-4 rounded-xl"},Ks={class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"},Qs={class:"ml-2 text-preke-gold"},Xs={key:0,class:"text-center py-8 text-preke-text-muted"},Ys={key:1,class:"space-y-2"},Zs={class:"flex items-center gap-4"},en={class:"font-mono text-sm text-preke-text"},tn={class:"text-xs text-preke-text-muted"},sn={key:0},nn={class:"flex items-center gap-3"},an=["onClick"],on=X({__name:"SystemMonitor",setup(z){const r=pe(),d=y(!0),_=y(null),h=y(null),f=y(null),g=y({active:!1,state:"unknown",subState:"unknown",chromiumTabs:0,loading:!1}),w=B(()=>{var v,l,t;const i=((t=(l=(v=h.value)==null?void 0:v.info)==null?void 0:l.load_average)==null?void 0:t[0])??0;return Math.min(100,i/8*100)}),x=B(()=>{var o,v;const i=(v=(o=h.value)==null?void 0:o.info)==null?void 0:v.memory_percent;return i!==void 0?i:0}),c=B(()=>{var v,l;const i=((l=(v=h.value)==null?void 0:v.info)==null?void 0:l.temperatures)??[];return i.length===0?null:i.find(t=>{var b;return(b=t.type)==null?void 0:b.toLowerCase().includes("cpu")})??i[0]}),S=B(()=>{var t,b;const i=((b=(t=h.value)==null?void 0:t.info)==null?void 0:b.uptime_seconds)??0,o=Math.floor(i/86400),v=Math.floor(i%86400/3600),l=Math.floor(i%3600/60);return o>0?`${o}d ${v}h`:v>0?`${v}h ${l}m`:`${l}m`}),R=B(()=>{var i;return((i=h.value)==null?void 0:i.services)??[]}),A=B(()=>{var i;return((i=h.value)==null?void 0:i.pipelines)??[]});async function k(){try{const{buildApiUrl:i}=await U(async()=>{const{buildApiUrl:Q}=await import("./index-DUBhsRZp.js").then(O=>O.a4);return{buildApiUrl:Q}},__vite__mapDeps([0,1])),[o,v,l,t]=await Promise.all([fetch(await i("/health")),fetch(await i("/api/ingest/status")),fetch(await i("/api/system/info")),fetch(await i("/api/services/vdoninja-bridge/status"))]),b=o.ok?await o.json():{status:"unknown"},C=v.ok?await v.json():{cameras:{}},p=l.ok?await l.json():null,P=t.ok?await t.json():null;P&&(g.value={active:P.active,state:P.state,subState:P.subState,chromiumTabs:P.chromiumTabs,loading:!1}),h.value={info:{hostname:(p==null?void 0:p.hostname)||"R58 Device",platform:b.platform||"R58",gstreamer:b.gstreamer,load_average:(p==null?void 0:p.load_average)||[0,0,0],memory_percent:(p==null?void 0:p.memory_percent)||0,memory_total_mb:(p==null?void 0:p.memory_total_mb)||0,memory_used_mb:(p==null?void 0:p.memory_used_mb)||0,uptime_seconds:(p==null?void 0:p.uptime_seconds)||0,temperatures:(p==null?void 0:p.temperatures)||[]},services:[{name:"r58-recorder",active:b.status==="healthy",status:b.status},{name:"mediamtx",active:!0,status:"running"},{name:"vdo.ninja",active:!0,status:"running",note:"r58-vdo.itagenten.no"}],pipelines:Object.entries(C.cameras||{}).map(([Q,O])=>({pipeline_id:Q,pipeline_type:"ingest",device:O.device,state:O.status==="streaming"?"running":O.status}))},_.value=null}catch(i){_.value=i.message,console.error("Failed to fetch system status:",i)}finally{d.value=!1}}async function a(){g.value.loading=!0;try{const{buildApiUrl:i}=await U(async()=>{const{buildApiUrl:l}=await import("./index-DUBhsRZp.js").then(t=>t.a4);return{buildApiUrl:l}},__vite__mapDeps([0,1])),v=await(await fetch(await i("/api/services/vdoninja-bridge/start"),{method:"POST"})).json();v.success?(r.success(v.message||"VDO.ninja bridge started"),setTimeout(k,3e3)):r.error(v.message||"Failed to start bridge")}catch(i){r.error(`Start failed: ${i.message}`)}finally{g.value.loading=!1}}async function V(){g.value.loading=!0;try{const{buildApiUrl:i}=await U(async()=>{const{buildApiUrl:l}=await import("./index-DUBhsRZp.js").then(t=>t.a4);return{buildApiUrl:l}},__vite__mapDeps([0,1])),v=await(await fetch(await i("/api/services/vdoninja-bridge/stop"),{method:"POST"})).json();v.success?(r.success(v.message||"VDO.ninja bridge stopped"),setTimeout(k,2e3)):r.error(v.message||"Failed to stop bridge")}catch(i){r.error(`Stop failed: ${i.message}`)}finally{g.value.loading=!1}}async function G(){g.value.loading=!0;try{const{buildApiUrl:i}=await U(async()=>{const{buildApiUrl:l}=await import("./index-DUBhsRZp.js").then(t=>t.a4);return{buildApiUrl:l}},__vite__mapDeps([0,1])),v=await(await fetch(await i("/api/services/vdoninja-bridge/restart"),{method:"POST"})).json();v.success?(r.success(v.message||"VDO.ninja bridge restarted"),setTimeout(k,3e3)):r.error(v.message||"Failed to restart bridge")}catch(i){r.error(`Restart failed: ${i.message}`)}finally{g.value.loading=!1}}async function I(i){try{const{buildApiUrl:o}=await U(async()=>{const{buildApiUrl:t}=await import("./index-DUBhsRZp.js").then(b=>b.a4);return{buildApiUrl:t}},__vite__mapDeps([0,1])),l=await(await fetch(await o(`/api/system/restart-service/${i}`),{method:"POST"})).json();l.success?(r.success(l.message||`Service ${i} restarted`),setTimeout(k,2e3)):r.error(l.message||`Failed to restart ${i}`)}catch(o){r.error(`Restart failed: ${o.message}`)}}async function W(){if(confirm("Are you sure you want to reboot the device? This will interrupt all recordings and streams."))try{const{buildApiUrl:i}=await U(async()=>{const{buildApiUrl:l}=await import("./index-DUBhsRZp.js").then(t=>t.a4);return{buildApiUrl:l}},__vite__mapDeps([0,1])),v=await(await fetch(await i("/api/system/reboot"),{method:"POST"})).json();v.success?r.success("Device is rebooting..."):r.error(v.message||"Failed to reboot device")}catch(i){r.error(`Reboot failed: ${i.message}`)}}async function E(i){try{const{buildApiUrl:o}=await U(async()=>{const{buildApiUrl:t}=await import("./index-DUBhsRZp.js").then(b=>b.a4);return{buildApiUrl:t}},__vite__mapDeps([0,1])),v=await fetch(await o(`/api/ingest/stop/${i}`),{method:"POST"}),l=await v.json();v.ok?(r.success(`Stopped pipeline: ${i}`),await k()):r.error(l.detail||"Stop failed")}catch(o){r.error(`Stop failed: ${o.message}`)}}function q(i){return i.active?"bg-preke-green":"bg-preke-red"}function J(i){switch(i){case"running":return"text-preke-green";case"starting":return"text-preke-gold";case"stopping":return"text-preke-gold";default:return"text-preke-text-muted"}}function F(i){return i>90?"bg-preke-red":i>70?"bg-preke-gold":"bg-preke-green"}function K(i){return i>80?"text-preke-red":i>65?"text-preke-gold":"text-preke-green"}return H(()=>{k(),f.value=window.setInterval(k,1e4)}),te(()=>{f.value&&clearInterval(f.value)}),(i,o)=>{var v,l,t,b,C,p,P,Q,O,ae,oe;return s(),n("div",Xt,[d.value?(s(),n("div",Yt,[...o[1]||(o[1]=[e("div",{class:"animate-spin w-8 h-8 border-2 border-preke-gold border-t-transparent rounded-full"},null,-1)])])):_.value?(s(),n("div",Zt,[e("p",es,"Error loading system status: "+u(_.value),1),e("button",{onClick:k,class:"btn-v2 btn-v2--secondary mt-4"},"Retry")])):(s(),n(T,{key:2},[e("div",ts,[e("div",ss,[o[4]||(o[4]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"},"CPU Load",-1)),(t=(l=(v=h.value)==null?void 0:v.info)==null?void 0:l.load_average)!=null&&t.some($=>$>0)?(s(),n("div",ns,[e("div",as,[e("div",{class:j(["absolute left-0 top-0 h-full rounded-full transition-all duration-500",F(w.value)]),style:re({width:`${w.value}%`})},null,6)]),e("div",os,[o[2]||(o[2]=e("span",{class:"text-preke-text-muted"},"Load Average",-1)),e("span",is,u((p=(C=(b=h.value)==null?void 0:b.info)==null?void 0:C.load_average)==null?void 0:p.map($=>$.toFixed(2)).join(" / ")),1)])])):(s(),n("div",ls,[...o[3]||(o[3]=[e("span",{class:"text-preke-text-muted"},"N/A",-1)])]))]),e("div",rs,[o[7]||(o[7]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"},"Memory",-1)),x.value>0?(s(),n("div",ds,[e("div",cs,[e("div",{class:j(["absolute left-0 top-0 h-full rounded-full transition-all duration-500",F(x.value)]),style:re({width:`${x.value}%`})},null,6)]),e("div",us,[o[5]||(o[5]=e("span",{class:"text-preke-text-muted"},"Used",-1)),e("span",ps,u(x.value.toFixed(1))+"%",1)])])):(s(),n("div",vs,[...o[6]||(o[6]=[e("span",{class:"text-preke-text-muted"},"N/A",-1)])]))]),e("div",ms,[o[8]||(o[8]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"},"Temperature",-1)),e("div",xs,[c.value?(s(),n("span",{key:0,class:j(["text-3xl font-bold",K(c.value.temp_celsius)])},u(c.value.temp_celsius.toFixed(1))+"°C ",3)):(s(),n("span",fs,"N/A"))]),(P=c.value)!=null&&P.type?(s(),n("p",gs,u(c.value.type),1)):D("",!0)]),e("div",bs,[o[9]||(o[9]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"},"Uptime",-1)),e("div",ks,[((O=(Q=h.value)==null?void 0:Q.info)==null?void 0:O.uptime_seconds)>0?(s(),n("span",_s,u(S.value),1)):(s(),n("span",hs,"N/A"))]),e("p",ws,u(((oe=(ae=h.value)==null?void 0:ae.info)==null?void 0:oe.hostname)||"R58 Device"),1)])]),e("div",ys,[e("div",$s,[e("div",js,[o[10]||(o[10]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide"},"VDO.ninja Bridge",-1)),e("span",{class:j(["px-2 py-0.5 rounded-full text-xs font-medium",g.value.active?"bg-preke-green/20 text-preke-green":"bg-preke-text-muted/20 text-preke-text-muted"])},u(g.value.active?"Running":"Stopped"),3)]),e("div",Ds,[g.value.active?(s(),n("button",{key:1,onClick:V,disabled:g.value.loading,class:"btn-v2 btn-v2--danger text-sm",title:"Stop the VDO.ninja bridge"},[g.value.loading?(s(),n("span",Rs)):D("",!0),o[12]||(o[12]=M(" Stop Bridge ",-1))],8,Cs)):(s(),n("button",{key:0,onClick:a,disabled:g.value.loading,class:"btn-v2 btn-v2--primary text-sm",title:"Start the VDO.ninja bridge"},[g.value.loading?(s(),n("span",As)):D("",!0),o[11]||(o[11]=M(" Start Bridge ",-1))],8,Ss)),e("button",{onClick:G,disabled:g.value.loading,class:"btn-v2 btn-v2--secondary text-sm",title:"Restart the VDO.ninja bridge"},[...o[13]||(o[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,Ps)])]),e("div",Vs,[e("div",Ts,[e("div",Is,[e("span",{class:j(["w-2.5 h-2.5 rounded-full",g.value.active?"bg-preke-green":"bg-preke-text-muted"])},null,2),e("div",null,[o[14]||(o[14]=e("p",{class:"font-medium text-preke-text"},"vdoninja-bridge",-1)),e("p",Os,u(g.value.state)+u(g.value.subState!==g.value.state?` (${g.value.subState})`:""),1)])]),e("div",Ms,[g.value.active&&g.value.chromiumTabs>0?(s(),n("p",Ns,u(g.value.chromiumTabs)+" camera"+u(g.value.chromiumTabs!==1?"s":"")+" streaming ",1)):D("",!0),o[15]||(o[15]=e("p",{class:"text-xs text-preke-text-muted"}," Pushes HDMI cameras to VDO.ninja room ",-1))])])])]),e("div",Es,[e("div",Fs,[o[16]||(o[16]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide"},"Services",-1)),e("div",Us,[e("button",{onClick:o[0]||(o[0]=$=>I("preke-recorder")),class:"btn-v2 btn-v2--secondary text-sm",title:"Restart the main service"}," Restart Service "),e("button",{onClick:W,class:"btn-v2 btn-v2--danger text-sm",title:"Reboot the device"}," Reboot Device ")])]),e("div",Bs,[(s(!0),n(T,null,N(R.value,$=>(s(),n("div",{key:$.name,class:"flex items-center justify-between p-3 rounded-lg bg-preke-surface border border-preke-surface-border"},[e("div",Ls,[e("span",{class:j(["w-2.5 h-2.5 rounded-full",q($)])},null,2),e("div",null,[e("p",Hs,u($.name),1),e("p",zs,[M(u($.status)+" ",1),$.memory_mb?(s(),n("span",Gs," · "+u($.memory_mb.toFixed(0))+" MB",1)):D("",!0)])])]),$.name!=="vdo.ninja"?(s(),n("button",{key:0,onClick:ve=>I($.name),class:"text-preke-text-muted hover:text-preke-gold transition-colors",title:"Restart service"},[...o[17]||(o[17]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,Ws)):(s(),n("span",qs,"External"))]))),128))])]),e("div",Js,[e("h3",Ks,[o[18]||(o[18]=M(" Active Pipelines ",-1)),e("span",Qs,"("+u(A.value.length)+")",1)]),A.value.length===0?(s(),n("div",Xs," No active pipelines ")):(s(),n("div",Ys,[(s(!0),n(T,null,N(A.value,$=>(s(),n("div",{key:$.pipeline_id,class:"flex items-center justify-between p-3 rounded-lg bg-preke-surface border border-preke-surface-border"},[e("div",Zs,[e("div",null,[e("p",en,u($.pipeline_id),1),e("p",tn,[M(" Type: "+u($.pipeline_type)+" ",1),$.device?(s(),n("span",sn," · "+u($.device),1)):D("",!0)])])]),e("div",nn,[e("span",{class:j(["text-sm font-medium capitalize",J($.state)])},u($.state),3),$.state==="running"?(s(),n("button",{key:0,onClick:ve=>E($.pipeline_id),class:"btn-v2 btn-v2--danger text-sm",title:"Stop pipeline"}," Stop ",8,an)):D("",!0)])]))),128))]))])],64))])}}}),ln={class:"space-y-6"},rn={class:"glass-card p-4 rounded-xl"},dn={class:"space-y-4"},cn={key:0,class:"glass-card p-4 rounded-xl"},un={class:"space-y-2"},pn={class:"flex-1 min-w-0"},vn={class:"flex items-center gap-2"},mn={class:"text-sm font-medium text-preke-text"},xn={key:0,class:"text-xs px-2 py-0.5 rounded bg-preke-gold/20 text-preke-gold"},fn={class:"text-xs text-preke-text-muted truncate mt-1"},gn=["onClick"],bn={class:"glass-card p-4 rounded-xl"},kn={class:"space-y-4"},_n=["value"],hn={key:1,class:"glass-card p-4 rounded-xl"},wn={class:"space-y-4"},yn={class:"flex items-center justify-between p-3 rounded-lg bg-preke-surface/50 border border-preke-surface-border"},$n={class:"flex items-center gap-3"},jn={class:"text-sm font-medium text-preke-text"},Dn={key:0,class:"text-xs text-preke-gold"},Sn=["disabled"],An={class:"flex items-center justify-between"},Cn={key:0},Rn={class:"text-xs text-preke-text-muted mt-1"},Pn={class:"glass-card p-4 rounded-xl"},Vn={class:"space-y-4"},Tn=["value"],In={class:"flex items-center justify-between"},On={key:0},Mn={class:"glass-card p-4 rounded-xl bg-preke-surface/30"},Nn={class:"space-y-2 text-sm"},En={class:"flex justify-between"},Fn={class:"text-preke-text"},ce="preke-settings",Un=X({__name:"SettingsPanel",setup(z){const r=pe(),d=y([]),_=y(null),h=y("Preke Device"),f=y(de),g=y(he()),w=y("/opt/r58/recordings"),x=y(!1),c=y(30),S=y(!1),R=y(!1),A=y(null),k=y(!1),a=y("Preke"),V=B(()=>be());function G(){try{const l=localStorage.getItem(ce);if(l){const t=JSON.parse(l);h.value=t.deviceName||h.value,f.value=t.vdoRoom||f.value,x.value=t.autoCleanup||!1,c.value=t.cleanupDays||30}}catch{}}function I(){try{const l={deviceName:h.value,vdoRoom:f.value,autoCleanup:x.value,cleanupDays:c.value};localStorage.setItem(ce,JSON.stringify(l)),r.success("Settings saved")}catch(l){r.error("Failed to save settings"),console.error("Failed to save settings:",l)}}function W(){h.value="Preke Device",f.value=de,x.value=!1,c.value=30,I(),r.info("Settings reset to defaults")}async function E(){if(window.electronAPI)try{d.value=await window.electronAPI.getDevices();const l=await window.electronAPI.getActiveDevice();_.value=(l==null?void 0:l.id)||null}catch(l){console.error("Failed to load devices:",l)}}async function q(l){if(!(!window.electronAPI||!confirm("Remove this device?")))try{await window.electronAPI.removeDevice(l),await E(),r.success("Device removed")}catch(t){console.error("Failed to remove device:",t),r.error("Failed to remove device")}}async function J(){var l;if((l=window.electronAPI)!=null&&l.davinciCheckResolve){k.value=!0;try{const t=await window.electronAPI.davinciCheckResolve();R.value=t.connected,t.connected?r.success("DaVinci Resolve is connected!"):r.warning("DaVinci Resolve is not running or not accessible")}catch(t){console.error("Failed to check DaVinci:",t),r.error("Failed to check DaVinci Resolve")}finally{k.value=!1}}}async function F(){if(window.electronAPI)try{if(S.value)await window.electronAPI.davinciStop(),S.value=!1,r.info("DaVinci integration stopped");else{if(!(await window.electronAPI.davinciCheckResolve()).connected){r.error("Please start DaVinci Resolve Studio first");return}await window.electronAPI.davinciConfig({projectNamePrefix:a.value}),await window.electronAPI.davinciStart(),S.value=!0,R.value=!0,r.success("DaVinci integration started! Recording sessions will auto-create projects.")}}catch(l){console.error("Failed to toggle DaVinci:",l),r.error("Failed to toggle DaVinci integration")}}async function K(){var l;if((l=window.electronAPI)!=null&&l.davinciStatus)try{const t=await window.electronAPI.davinciStatus();S.value=t.enabled,R.value=t.resolveConnected,A.value=t.currentSession}catch(t){console.error("Failed to load DaVinci status:",t)}}let i=null,o=null,v=null;return H(()=>{var l,t,b;G(),E(),K(),(l=window.electronAPI)!=null&&l.onDavinciSessionStart&&(i=window.electronAPI.onDavinciSessionStart(C=>{A.value=C.sessionId,r.success(`Recording started: ${C.sessionId}`)})),(t=window.electronAPI)!=null&&t.onDavinciSessionStop&&(o=window.electronAPI.onDavinciSessionStop(C=>{A.value=null,r.info(`Recording stopped, ${C.filePaths.length} files imported`)})),(b=window.electronAPI)!=null&&b.onDavinciConnectionChanged&&(v=window.electronAPI.onDavinciConnectionChanged(C=>{R.value=C.connected,!C.connected&&S.value&&r.warning("DaVinci Resolve disconnected")}))}),te(()=>{i==null||i(),o==null||o(),v==null||v()}),(l,t)=>(s(),n("div",ln,[e("div",rn,[t[7]||(t[7]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"},"Device",-1)),e("div",dn,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-preke-text mb-2"},"Device Name",-1)),L(e("input",{"onUpdate:modelValue":t[0]||(t[0]=b=>h.value=b),type:"text",class:"input w-full",placeholder:"My Preke Device"},null,512),[[Z,h.value]]),t[6]||(t[6]=e("p",{class:"text-xs text-preke-text-muted mt-1"},"Display name for this device in the app",-1))])])]),V.value&&d.value.length>0?(s(),n("div",cn,[t[9]||(t[9]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"},"Saved Devices",-1)),e("div",un,[(s(!0),n(T,null,N(d.value,b=>(s(),n("div",{key:b.id,class:j(["flex items-center justify-between p-3 rounded-lg border border-preke-surface-border",{"bg-preke-gold/10 border-preke-gold/30":b.id===_.value}])},[e("div",pn,[e("div",vn,[e("span",mn,u(b.name),1),b.id===_.value?(s(),n("span",xn," Active ")):D("",!0)]),e("p",fn,u(b.url),1)]),e("button",{onClick:C=>q(b.id),class:"ml-3 p-2 rounded-lg text-preke-text-muted hover:text-red-400 hover:bg-red-500/10 transition-colors",title:"Remove device"},[...t[8]||(t[8]=[e("svg",{viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,gn)],2))),128))])])):D("",!0),e("div",bn,[t[14]||(t[14]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"},"VDO.ninja / Mixer",-1)),e("div",kn,[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-preke-text mb-2"},"Room Name",-1)),L(e("input",{"onUpdate:modelValue":t[1]||(t[1]=b=>f.value=b),type:"text",class:"input w-full",placeholder:"r58studio"},null,512),[[Z,f.value]]),t[11]||(t[11]=e("p",{class:"text-xs text-preke-text-muted mt-1"},"VDO.ninja room for video mixing",-1))]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-preke-text mb-2"},"VDO Host",-1)),e("input",{value:g.value,type:"text",class:"input w-full bg-preke-surface opacity-60",readonly:"",disabled:""},null,8,_n),t[13]||(t[13]=e("p",{class:"text-xs text-preke-text-muted mt-1"},"VDO.ninja server (read-only)",-1))])])]),V.value?(s(),n("div",hn,[t[18]||(t[18]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"}," DaVinci Resolve Integration ",-1)),e("div",wn,[e("div",yn,[e("div",$n,[e("div",{class:j(["w-3 h-3 rounded-full",R.value?"bg-green-500":"bg-zinc-500"])},null,2),e("div",null,[e("p",jn,u(R.value?"DaVinci Resolve Connected":"DaVinci Resolve Not Connected"),1),A.value?(s(),n("p",Dn," Recording: "+u(A.value),1)):D("",!0)])]),e("button",{onClick:J,disabled:k.value,class:"px-3 py-1.5 text-xs rounded-lg bg-preke-surface hover:bg-preke-surface-elevated border border-preke-surface-border text-preke-text transition-colors disabled:opacity-50"},u(k.value?"Checking...":"Check Connection"),9,Sn)]),e("div",An,[t[15]||(t[15]=e("div",null,[e("label",{class:"block text-sm font-medium text-preke-text"},"Auto-sync with DaVinci Resolve"),e("p",{class:"text-xs text-preke-text-muted"}," Automatically create projects and import media when recording ")],-1)),e("button",{onClick:F,class:j(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",S.value?"bg-preke-gold":"bg-preke-surface-elevated"])},[e("span",{class:j(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",S.value?"translate-x-6":"translate-x-1"])},null,2)],2)]),S.value?(s(),n("div",Cn,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-preke-text mb-2"},"Project Name Prefix",-1)),L(e("input",{"onUpdate:modelValue":t[2]||(t[2]=b=>a.value=b),type:"text",class:"input w-full",placeholder:"Preke"},null,512),[[Z,a.value]]),e("p",Rn," Projects will be named: "+u(a.value)+"_session-id ",1)])):D("",!0),t[17]||(t[17]=e("div",{class:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/20"},[e("p",{class:"text-xs text-blue-300"},[e("strong",null,"How it works:"),M(" When you start a recording on the R58, a new DaVinci project is automatically created. When recording stops, the files are imported into the project's media pool. ")])],-1))])])):D("",!0),e("div",Pn,[t[23]||(t[23]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"},"Storage",-1)),e("div",Vn,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-preke-text mb-2"},"Recording Path",-1)),e("input",{value:w.value,type:"text",class:"input w-full bg-preke-surface opacity-60",readonly:"",disabled:""},null,8,Tn),t[20]||(t[20]=e("p",{class:"text-xs text-preke-text-muted mt-1"}," Configured in config.yml on R58 device. Default: /opt/r58/recordings/ ",-1))]),e("div",In,[t[21]||(t[21]=e("div",null,[e("label",{class:"block text-sm font-medium text-preke-text"},"Auto-cleanup old recordings"),e("p",{class:"text-xs text-preke-text-muted"},"Automatically delete recordings older than specified days")],-1)),e("button",{onClick:t[3]||(t[3]=b=>x.value=!x.value),class:j(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",x.value?"bg-preke-gold":"bg-preke-surface-elevated"])},[e("span",{class:j(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",x.value?"translate-x-6":"translate-x-1"])},null,2)],2)]),x.value?(s(),n("div",On,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-preke-text mb-2"},"Keep recordings for (days)",-1)),L(e("input",{"onUpdate:modelValue":t[4]||(t[4]=b=>c.value=b),type:"number",min:"1",max:"365",class:"input w-24"},null,512),[[Z,c.value,void 0,{number:!0}]])])):D("",!0),e("div",{class:"pt-4 border-t border-preke-surface-border"},[e("button",{onClick:W,class:"btn-v2 btn-v2--secondary w-full"}," Reset to Defaults ")])])]),e("div",{class:"flex items-center justify-end"},[e("button",{onClick:I,class:"btn-v2 btn-v2--primary"}," Save Settings ")]),e("div",Mn,[t[26]||(t[26]=e("h3",{class:"text-xs font-semibold text-preke-text-muted uppercase tracking-wide mb-4"},"About",-1)),e("div",Nn,[t[25]||(t[25]=e("div",{class:"flex justify-between"},[e("span",{class:"text-preke-text-muted"},"App Version"),e("span",{class:"text-preke-text"},"2.0.0")],-1)),e("div",En,[t[24]||(t[24]=e("span",{class:"text-preke-text-muted"},"Platform",-1)),e("span",Fn,u(V.value?"Desktop (Electron)":"Web Browser"),1)])])])]))}}),Bn={class:"h-full flex flex-col bg-preke-bg"},Ln={class:"px-6 py-4 border-b border-preke-surface-border bg-preke-surface/50 backdrop-blur-sm"},Hn={class:"flex gap-1"},zn=["onClick"],Gn={class:"flex-1 p-6 overflow-y-auto"},Wn={key:2,class:"glass-card p-6 rounded-xl"},qn={key:3,class:"glass-card p-6 rounded-xl"},Jn={key:5,class:"design-panel"},Kn={class:"design-links"},Qn={class:"design-links__group"},Xn=X({__name:"AdminView",setup(z){const r=ke(),d=y("system"),_=[{id:"system",label:"System"},{id:"status",label:"Device Status"},{id:"logs",label:"Logs"},{id:"fleet",label:"Fleet"},{id:"settings",label:"Settings"},{id:"design",label:"Design"}];return H(()=>{const h=r.query.tab;h&&_.some(f=>f.id===h)&&(d.value=h)}),(h,f)=>{const g=_e("router-link");return s(),n("div",Bn,[e("header",Ln,[f[0]||(f[0]=e("h1",{class:"text-xl font-semibold text-preke-text mb-4"},"Admin",-1)),e("div",Hn,[(s(),n(T,null,N(_,w=>e("button",{key:w.id,onClick:x=>d.value=w.id,class:j(["px-4 py-2 rounded-lg transition-all duration-200 font-medium text-sm",[d.value===w.id?"bg-preke-gold/20 text-preke-gold border border-preke-gold/30":"text-preke-text-muted hover:text-preke-text hover:bg-preke-surface"]])},u(w.label),11,zn)),64))])]),e("div",Gn,[d.value==="system"?(s(),se(on,{key:0})):d.value==="status"?(s(),se($t,{key:1})):d.value==="logs"?(s(),n("div",Wn,[f[1]||(f[1]=e("h2",{class:"text-lg font-semibold text-preke-text mb-4"},"System Logs",-1)),Y(Tt)])):d.value==="fleet"?(s(),n("div",qn,[Y(Qt)])):d.value==="settings"?(s(),se(Un,{key:4})):d.value==="design"?(s(),n("div",Jn,[f[6]||(f[6]=e("h2",{class:"text-lg font-semibold text-preke-text mb-4"},"Design Resources",-1)),f[7]||(f[7]=e("p",{class:"text-preke-text-muted mb-6"},"Access design documentation, proposals, experiments, and style guides.",-1)),e("div",Kn,[Y(g,{to:"/design-archive",class:"design-link design-link--primary"},{default:ne(()=>[...f[2]||(f[2]=[e("div",{class:"design-link__icon design-link__icon--gold"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("path",{d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})])],-1),e("div",{class:"design-link__content"},[e("h3",null,"Design Archive"),e("p",null,"Browse all designs with thumbnails, search, and filters")],-1),e("svg",{class:"design-link__arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 5l7 7-7 7"})],-1)])]),_:1}),e("div",Qn,[f[5]||(f[5]=e("h4",{class:"design-links__group-title"},"Documentation",-1)),Y(g,{to:"/styleguide-v2",class:"design-link"},{default:ne(()=>[...f[3]||(f[3]=[e("div",{class:"design-link__icon design-link__icon--gold"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),e("div",{class:"design-link__content"},[e("h3",null,"Style Guide V2"),e("p",null,"Current design system")],-1),e("svg",{class:"design-link__arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 5l7 7-7 7"})],-1)])]),_:1}),Y(g,{to:"/styleguide",class:"design-link"},{default:ne(()=>[...f[4]||(f[4]=[e("div",{class:"design-link__icon design-link__icon--gold"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("path",{d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})])],-1),e("div",{class:"design-link__content"},[e("h3",null,"Style Guide V1"),e("p",null,"Legacy reference")],-1),e("svg",{class:"design-link__arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 5l7 7-7 7"})],-1)])]),_:1})])])])):D("",!0)])])}}}),ea=ue(Xn,[["__scopeId","data-v-2a8faf9e"]]);export{ea as default};
