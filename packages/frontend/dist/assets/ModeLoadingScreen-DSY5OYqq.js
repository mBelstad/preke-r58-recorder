import{d as S,r as x,E as $,j as f,o as j,l as D,c as n,a as e,B as a,e as F,f as I,t as h,F as N,y as R,x as z,i as s,_ as L}from"./index-DONkCh1r.js";const V={class:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-preke-bg overflow-hidden"},A={class:"absolute inset-0"},E={class:"relative z-10 flex flex-col items-center gap-10"},P={class:"relative flex items-center justify-center"},q={key:0,class:"relative"},G={key:1,class:"relative"},O={class:"text-center"},U={class:"text-preke-text-muted text-lg"},H={class:"flex items-center gap-2"},J=S({__name:"ModeLoadingScreen",props:{mode:{},minTime:{default:1500},maxTime:{default:8e3},contentReady:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1}},emits:["ready","cancel"],setup(c,{emit:w}){const o=c,d=w;function k(){d("cancel")}const y=x(!1);let u=null,m=null;function b(){y.value&&o.contentReady&&d("ready")}$(()=>o.contentReady,r=>{r&&b()});const t=f(()=>o.mode==="recorder"?"#d45a5a":"#7c3aed"),_=f(()=>o.mode==="recorder"?"Recorder":"Mixer"),C=f(()=>o.mode==="recorder"?"Multi-cam ISO Recording":"Live Switching & Streaming"),p=x([.3,.5,.8,1,.8,.5,.3]);let v=null;const T=x(Date.now());function g(){const r=(Date.now()-T.value)/1e3;p.value=p.value.map((l,i)=>{const M=i/p.value.length*Math.PI*2,B=Math.sin(r*3+M)*.4+.6;return Math.max(.2,Math.min(1,B))}),v=requestAnimationFrame(g)}return j(()=>{g(),u=setTimeout(()=>{y.value=!0,b()},o.minTime),m=setTimeout(()=>{d("ready")},o.maxTime)}),D(()=>{u&&clearTimeout(u),m&&clearTimeout(m),v&&cancelAnimationFrame(v)}),(r,l)=>(s(),n("div",V,[e("div",A,[e("div",{class:"absolute w-[600px] h-[600px] rounded-full blur-3xl opacity-20 animate-float-slow",style:a({background:`radial-gradient(circle, ${t.value} 0%, transparent 70%)`,left:"10%",top:"10%"})},null,4),e("div",{class:"absolute w-[400px] h-[400px] rounded-full blur-3xl opacity-15 animate-float-medium",style:a({background:`radial-gradient(circle, ${t.value} 0%, transparent 70%)`,right:"15%",bottom:"20%"})},null,4),l[0]||(l[0]=e("div",{class:"absolute inset-0 opacity-5",style:{"background-image":"linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)","background-size":"50px 50px"}},null,-1))]),e("div",E,[e("div",P,[e("div",{class:"absolute w-40 h-40 rounded-full animate-ping-slow opacity-20",style:a({backgroundColor:t.value})},null,4),e("div",{class:"relative w-32 h-32 rounded-full flex items-center justify-center backdrop-blur-sm",style:a({backgroundColor:`${t.value}15`,border:`2px solid ${t.value}40`})},[c.mode==="recorder"?(s(),n("div",q,[(s(),n("svg",{class:"w-16 h-16",style:a({color:t.value}),fill:"currentColor",viewBox:"0 0 24 24"},[...l[1]||(l[1]=[e("circle",{cx:"12",cy:"12",r:"8",class:"animate-pulse-glow"},null,-1)])],4)),e("div",{class:"absolute inset-0 rounded-full animate-spin-slow",style:a({border:`3px solid ${t.value}`,borderTopColor:"transparent"})},null,4)])):(s(),n("div",G,[(s(),n("svg",{class:"w-16 h-16",style:a({color:t.value}),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"1.8"},[...l[2]||(l[2]=[I('<rect x="2" y="2" width="9" height="6" rx="1" class="animate-pulse" data-v-b4c3014a></rect><rect x="13" y="2" width="9" height="6" rx="1" class="animate-pulse" style="animation-delay:0.1s;" data-v-b4c3014a></rect><rect x="2" y="10" width="9" height="6" rx="1" class="animate-pulse" style="animation-delay:0.2s;" data-v-b4c3014a></rect><rect x="13" y="10" width="9" height="6" rx="1" class="animate-pulse" style="animation-delay:0.3s;" data-v-b4c3014a></rect><circle cx="12" cy="20" r="2" fill="currentColor" data-v-b4c3014a></circle><path d="M9 19.5a4 4 0 0 1 6 0" stroke-linecap="round" data-v-b4c3014a></path>',6)])],4)),e("div",{class:"absolute inset-0 rounded-full animate-spin-slow",style:a({border:`3px solid ${t.value}`,borderTopColor:"transparent"})},null,4)]))],4)]),e("div",O,[e("h2",{class:"text-4xl font-bold mb-3 tracking-tight",style:a({color:t.value})},h(_.value),5),e("p",U,h(C.value),1)]),e("div",H,[(s(),n(N,null,R(3,i=>e("div",{key:i,class:"w-2 h-2 rounded-full animate-bounce-dot",style:a({backgroundColor:t.value,animationDelay:`${(i-1)*.15}s`})},null,4)),64))]),c.showCancel?(s(),n("button",{key:0,onClick:k,class:"loading-cancel-btn"},[...l[3]||(l[3]=[e("svg",{class:"loading-cancel-btn__icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","stroke-width":"1.8"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),z(" Go back ",-1)])])):F("",!0)])]))}}),Q=L(J,[["__scopeId","data-v-b4c3014a"]]);export{Q as M};
