import{d as f,u as m,r as n,o as x,b as h,c as t,a as w,e as d,f as k,n as y,t as _,g as C,h as S,i as l,_ as M}from"./index-C-UnMYRj.js";const B={class:"studio"},V={class:"studio__content"},A={class:"studio__side studio__side--left"},E=["disabled"],z={class:"studio__icon studio__icon--recorder"},$={key:0,class:"animate-spin",fill:"none",viewBox:"0 0 24 24"},F={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.8"},N={class:"studio__side studio__side--right"},O=["disabled"],H={class:"studio__icon studio__icon--mixer"},I={key:0,class:"animate-spin",fill:"none",viewBox:"0 0 24 24"},P={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.8"},R={key:0,class:"studio__error"},T=f({__name:"StudioView",setup(j){const p=C(),g=m(),i=n(null),e=n(!1),r=n(null);let b=null;x(async()=>{try{(await fetch(await h("/api/mode/idle"),{method:"POST"})).ok&&(console.log("[Studio] Switched to idle mode"),await g.fetchCapabilities())}catch(s){console.warn("[Studio] Failed to switch to idle mode:",s)}});async function u(s){if(e.value)return;b&&b.abort(),b=new AbortController;const a=b,o=a.signal;i.value=s,e.value=!0,r.value=null;try{const v=await fetch(await h(`/api/mode/${s}`),{method:"POST",signal:o});if(o.aborted)return;if(!v.ok){const c=await v.json().catch(()=>({}));throw new Error(c.detail||`Failed to switch to ${s} mode`)}if(o.aborted)return;p.push(`/${s}`)}catch(v){if(v instanceof Error&&v.name==="AbortError"){console.log("[Studio] Mode switch cancelled by user");return}const c=v instanceof Error?v.message:"Failed to switch mode";r.value=c,S.error(c),console.error("Mode switch error:",v)}finally{b===a&&(e.value=!1,b=null)}}return(s,a)=>(l(),t("div",B,[a[10]||(a[10]=w('<div class="studio__geo" data-v-bebbad7d><div class="geo-layer geo-layer--1" data-v-bebbad7d><div class="geo-shape geo-shape--1" data-v-bebbad7d></div><div class="geo-shape geo-shape--2" data-v-bebbad7d></div><div class="geo-shape geo-shape--3" data-v-bebbad7d></div><div class="geo-shape geo-shape--4" data-v-bebbad7d></div><div class="geo-shape geo-shape--5" data-v-bebbad7d></div></div><div class="geo-layer geo-layer--2" data-v-bebbad7d><div class="geo-shape geo-shape--6" data-v-bebbad7d></div><div class="geo-shape geo-shape--7" data-v-bebbad7d></div><div class="geo-shape geo-shape--8" data-v-bebbad7d></div><div class="geo-shape geo-shape--9" data-v-bebbad7d></div><div class="geo-shape geo-shape--10" data-v-bebbad7d></div></div><div class="geo-layer geo-layer--3" data-v-bebbad7d><div class="geo-shape geo-shape--11" data-v-bebbad7d></div><div class="geo-shape geo-shape--12" data-v-bebbad7d></div><div class="geo-shape geo-shape--13" data-v-bebbad7d></div><div class="geo-shape geo-shape--14" data-v-bebbad7d></div><div class="geo-shape geo-shape--15" data-v-bebbad7d></div></div><div class="geo-layer geo-layer--3-5" data-v-bebbad7d><div class="geo-shape geo-shape--26" data-v-bebbad7d></div><div class="geo-shape geo-shape--27" data-v-bebbad7d></div><div class="geo-shape geo-shape--28" data-v-bebbad7d></div><div class="geo-shape geo-shape--29" data-v-bebbad7d></div><div class="geo-shape geo-shape--30" data-v-bebbad7d></div></div><div class="geo-layer geo-layer--4" data-v-bebbad7d><div class="geo-shape geo-shape--16" data-v-bebbad7d></div><div class="geo-shape geo-shape--17" data-v-bebbad7d></div><div class="geo-shape geo-shape--18" data-v-bebbad7d></div><div class="geo-shape geo-shape--19" data-v-bebbad7d></div><div class="geo-shape geo-shape--20" data-v-bebbad7d></div></div><div class="geo-layer geo-layer--5" data-v-bebbad7d><div class="geo-shape geo-shape--21" data-v-bebbad7d></div><div class="geo-shape geo-shape--22" data-v-bebbad7d></div><div class="geo-shape geo-shape--23" data-v-bebbad7d></div><div class="geo-shape geo-shape--24" data-v-bebbad7d></div><div class="geo-shape geo-shape--25" data-v-bebbad7d></div></div><div class="soundwave soundwave--1" data-v-bebbad7d><div class="soundwave__bar" style="--i:0;--h:0.3;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:1;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:2;--h:0.8;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:3;--h:1;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:4;--h:0.7;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:5;--h:0.4;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:6;--h:0.6;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:7;--h:0.9;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:8;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:9;--h:0.3;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:10;--h:0.6;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:11;--h:0.8;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:12;--h:1;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:13;--h:0.7;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:14;--h:0.4;" data-v-bebbad7d></div></div><div class="soundwave soundwave--2" data-v-bebbad7d><div class="soundwave__bar" style="--i:0;--h:0.2;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:1;--h:0.9;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:2;--h:0.4;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:3;--h:1;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:4;--h:0.6;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:5;--h:0.3;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:6;--h:0.8;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:7;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:8;--h:0.7;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:9;--h:0.4;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:10;--h:0.9;" data-v-bebbad7d></div></div><div class="soundwave soundwave--3" data-v-bebbad7d><div class="soundwave__bar" style="--i:0;--h:0.6;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:1;--h:0.3;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:2;--h:0.9;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:3;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:4;--h:1;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:5;--h:0.4;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:6;--h:0.8;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:7;--h:0.2;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:8;--h:0.7;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:9;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:10;--h:0.6;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:11;--h:0.3;" data-v-bebbad7d></div></div><div class="soundwave soundwave--4" data-v-bebbad7d><div class="soundwave__bar" style="--i:0;--h:0.4;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:1;--h:0.8;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:2;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:3;--h:1;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:4;--h:0.3;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:5;--h:0.7;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:6;--h:0.2;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:7;--h:0.9;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:8;--h:0.6;" data-v-bebbad7d></div></div><div class="soundwave soundwave--5" data-v-bebbad7d><div class="soundwave__bar" style="--i:0;--h:0.7;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:1;--h:0.4;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:2;--h:0.9;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:3;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:4;--h:1;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:5;--h:0.3;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:6;--h:0.8;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:7;--h:0.6;" data-v-bebbad7d></div></div><div class="soundwave soundwave--6" data-v-bebbad7d><div class="soundwave__bar" style="--i:0;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:1;--h:0.2;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:2;--h:0.8;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:3;--h:0.4;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:4;--h:1;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:5;--h:0.7;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:6;--h:0.3;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:7;--h:0.9;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:8;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:9;--h:0.6;" data-v-bebbad7d></div></div><div class="soundwave soundwave--7" data-v-bebbad7d><div class="soundwave__bar" style="--i:0;--h:0.3;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:1;--h:0.7;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:2;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:3;--h:0.9;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:4;--h:0.4;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:5;--h:1;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:6;--h:0.6;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:7;--h:0.2;" data-v-bebbad7d></div></div><div class="soundwave soundwave--8" data-v-bebbad7d><div class="soundwave__bar" style="--i:0;--h:0.8;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:1;--h:0.4;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:2;--h:0.6;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:3;--h:1;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:4;--h:0.3;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:5;--h:0.9;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:6;--h:0.5;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:7;--h:0.7;" data-v-bebbad7d></div><div class="soundwave__bar" style="--i:8;--h:0.4;" data-v-bebbad7d></div></div><div class="purple-light purple-light--1" data-v-bebbad7d></div><div class="purple-light purple-light--2" data-v-bebbad7d></div><div class="purple-light purple-light--3" data-v-bebbad7d></div><div class="purple-light purple-light--4" data-v-bebbad7d></div></div>',1)),d("div",V,[a[8]||(a[8]=d("div",{class:"studio__gradient-light"},null,-1)),d("div",A,[d("button",{onClick:a[0]||(a[0]=o=>u("recorder")),disabled:e.value,class:y(["studio__card studio__card--recorder",{"studio__card--selected":i.value==="recorder"}])},[d("div",z,[e.value&&i.value==="recorder"?(l(),t("svg",$,[...a[2]||(a[2]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),t("svg",F,[...a[3]||(a[3]=[d("rect",{x:"2",y:"5",width:"14",height:"12",rx:"2"},null,-1),d("path",{d:"M16 9l4-2v8l-4-2"},null,-1),d("circle",{cx:"6",cy:"8",r:"2",fill:"currentColor",stroke:"none"},null,-1)])]))]),a[4]||(a[4]=d("h3",null,"Recorder",-1)),d("p",null,_(e.value&&i.value==="recorder"?"Starting...":"Multi-cam ISO"),1)],10,E)]),a[9]||(a[9]=d("div",{class:"studio__center"},[d("span",{class:"studio__badge"},"Choose Mode")],-1)),d("div",N,[d("button",{onClick:a[1]||(a[1]=o=>u("mixer")),disabled:e.value,class:y(["studio__card studio__card--mixer",{"studio__card--selected":i.value==="mixer"}])},[d("div",H,[e.value&&i.value==="mixer"?(l(),t("svg",I,[...a[5]||(a[5]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),t("svg",P,[...a[6]||(a[6]=[w('<rect x="2" y="2" width="9" height="6" rx="1" data-v-bebbad7d></rect><rect x="13" y="2" width="9" height="6" rx="1" data-v-bebbad7d></rect><rect x="2" y="10" width="9" height="6" rx="1" data-v-bebbad7d></rect><rect x="13" y="10" width="9" height="6" rx="1" data-v-bebbad7d></rect><circle cx="12" cy="20" r="2" fill="currentColor" data-v-bebbad7d></circle><path d="M9 19.5a4 4 0 0 1 6 0" stroke-linecap="round" data-v-bebbad7d></path>',6)])]))]),a[7]||(a[7]=d("h3",null,"Mixer",-1)),d("p",null,_(e.value&&i.value==="mixer"?"Starting...":"Live Switching"),1)],10,O)])]),r.value?(l(),t("div",R,_(r.value),1)):k("",!0)]))}}),L=M(T,[["__scopeId","data-v-bebbad7d"]]);export{L as default};
