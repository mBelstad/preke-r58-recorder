import{d as V,r as S,o as R,p as B,l as h,c as a,e as t,f as x,t as e,F as I,z as j,y as T,n as L,k as s,_ as N,C as F,a2 as A,I as z,a as H,J as P}from"./index-D2HQAR3o.js";const U={class:"podcast-display"},E={class:"display-header"},O={class:"flex items-center gap-6"},G=["src"],Y={class:"flex-1"},q={class:"text-3xl font-bold"},W={class:"text-xl text-preke-text-dim"},K={class:"text-right"},J={class:"text-4xl font-mono font-bold"},X={key:0,class:"text-lg text-preke-text-muted"},Q={key:0,class:"display-main"},Z={class:"tips-container"},tt={class:"tip-card"},et={class:"tip-icon"},st={class:"tip-title"},at={class:"tip-description"},ot={class:"tip-indicators"},nt={key:1,class:"display-main recording-mode"},it={class:"camera-grid"},lt={class:"camera-placeholder"},rt={class:"text-sm"},ct={key:0,class:"graphic-display"},dt=["src","alt"],ut={class:"graphic-indicator"},pt={class:"display-footer"},vt={class:"flex items-center justify-between"},_t={class:"flex items-center gap-4"},mt={key:0,class:"recording-badge"},ht={class:"text-preke-text-muted"},gt={class:"flex items-center gap-4 text-preke-text-muted"},ft=V({__name:"PodcastDisplay",props:{status:{}},setup(i){const n=i,b=S(0);let u=null;const p=[{icon:"ðŸŽ¤",title:"Use the Shure SM7B Microphone",description:"Speak directly into the microphone for best audio quality"},{icon:"ðŸŽ§",title:"Headset Available",description:"A headset is available if you prefer"},{icon:"ðŸ‘€",title:"Look at the Host",description:"Not at the camera - maintain natural conversation"},{icon:"ðŸ’‡",title:"Check Your Hair",description:"Keep hair away from your face for best visibility"},{icon:"ðŸ˜Œ",title:"Relax and Be Natural",description:"Speak naturally and take your time"}];R(()=>{u=window.setInterval(()=>{b.value=(b.value+1)%p.length},5e3)}),B(()=>{u&&clearInterval(u)});const v=h(()=>{var l;return((l=n.status)==null?void 0:l.recording_active)||!1}),y=h(()=>{var f;if(!((f=n.status)!=null&&f.recording_duration_ms))return"00:00:00";const l=Math.floor(n.status.recording_duration_ms/1e3),_=Math.floor(l/3600),$=Math.floor(l%3600/60),D=l%60;return`${_.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`}),w=h(()=>{var f;if(!((f=n.status)!=null&&f.booking))return null;const l=new Date,$=new Date(`${n.status.booking.date} ${n.status.booking.slot_end}`).getTime()-l.getTime();return $<=0?"Time expired":`${Math.floor($/6e4)} min left`}),g=h(()=>{var l,_;return(_=(l=n.status)==null?void 0:l.project)!=null&&_.graphics?n.status.project.graphics[n.status.current_slide_index]:null}),d=h(()=>p[b.value]);return(l,_)=>{var $,D,f;return s(),a("div",U,[t("div",E,[t("div",O,[($=i.status.booking.client)!=null&&$.logo_url?(s(),a("img",{key:0,src:i.status.booking.client.logo_url,alt:"Logo",class:"h-20 object-contain"},null,8,G)):x("",!0),t("div",Y,[t("h1",q,e(((D=i.status.booking.customer)==null?void 0:D.name)||"Guest"),1),t("p",W,e((f=i.status.booking.client)==null?void 0:f.name),1)]),t("div",K,[t("div",J,e(y.value),1),w.value?(s(),a("div",X,e(w.value),1)):x("",!0)])])]),v.value?(s(),a("div",nt,[t("div",it,[(s(),a(I,null,j(4,r=>t("div",{key:r,class:"camera-preview"},[t("div",lt,[_[0]||(_[0]=t("svg",{class:"w-16 h-16 text-preke-text-subtle",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)),t("span",rt,"Camera "+e(r),1)])])),64))]),g.value?(s(),a("div",ct,[t("img",{src:g.value.url,alt:g.value.filename,class:"graphic-image"},null,8,dt),t("div",ut," Slide "+e(i.status.current_slide_index+1)+" / "+e(i.status.project.graphics.length),1)])):x("",!0)])):(s(),a("div",Q,[t("div",Z,[t("div",tt,[t("div",et,e(d.value.icon),1),t("h2",st,e(d.value.title),1),t("p",at,e(d.value.description),1)]),t("div",ot,[(s(),a(I,null,j(p,(r,m)=>t("span",{key:m,class:L(["tip-dot",{active:m===b.value}])},null,2)),64))])])])),t("div",pt,[t("div",vt,[t("div",_t,[v.value?(s(),a("span",mt,[..._[1]||(_[1]=[t("span",{class:"recording-dot"},null,-1),T(" REC ",-1)])])):x("",!0),t("span",ht,e(i.status.booking.date)+" â€¢ "+e(i.status.booking.slot_start)+" - "+e(i.status.booking.slot_end),1)]),t("div",gt,[t("span",null,e(i.status.disk_space_gb.toFixed(1))+" GB available",1),_[2]||(_[2]=t("span",{class:"flex items-center gap-2"},[t("span",{class:"w-3 h-3 rounded-full bg-preke-green"}),T(" Connected ")],-1))])])])])}}}),kt=N(ft,[["__scopeId","data-v-23c0929d"]]),xt={class:"teleprompter-display"},bt={key:0,class:"display-header"},yt={class:"flex items-center justify-between"},$t={class:"flex items-center gap-4"},wt={class:"text-2xl font-mono font-bold"},St={key:0,class:"text-lg text-preke-text-muted"},Dt={key:1,class:"display-main"},Tt={class:"tips-container"},Mt={class:"tip-card"},Ct={class:"tip-icon"},It={class:"tip-title"},jt={class:"tip-description"},Lt={class:"tip-indicators"},Vt={key:2,class:"display-main teleprompter-mode"},Rt={class:"teleprompter-container"},Bt={class:"text-content"},Nt={key:0,class:"camera-preview"},Pt={key:3,class:"display-footer"},At={class:"flex items-center justify-between"},zt={class:"flex items-center gap-6"},Ft={class:"control-hint"},Ht={class:"control-hint"},Ut={class:"flex items-center gap-4"},Et={class:"text-preke-text-muted"},Ot={key:0,class:"pause-indicator"},Gt=V({__name:"TeleprompterDisplay",props:{status:{}},setup(i){const n=i,b=S(0),u=S(0),p=S(!1),v=S(!1);let y=null,w=null;const g=[{icon:"ðŸŽ¯",title:"Look Directly at the Camera Lens",description:"Maintain eye contact with the lens for a natural connection"},{icon:"ðŸ—£ï¸",title:"Speak at a Steady, Natural Pace",description:"Take your time and speak clearly"},{icon:"â¸ï¸",title:"Use the Pause Function",description:"Press Space to pause and collect your thoughts"},{icon:"âš¡",title:"Adjust Scroll Speed",description:"Use +/- keys to match your reading pace"},{icon:"ðŸŒ¬ï¸",title:"Take a Breath Between Sections",description:"Pause naturally between paragraphs"}];R(()=>{y=window.setInterval(()=>{b.value=(b.value+1)%g.length},5e3),window.addEventListener("keydown",r),d.value&&m()}),B(()=>{y&&clearInterval(y),w&&cancelAnimationFrame(w),window.removeEventListener("keydown",r)});const d=h(()=>{var o;return((o=n.status)==null?void 0:o.recording_active)||!1}),l=h(()=>{var M;if(!((M=n.status)!=null&&M.recording_duration_ms))return"00:00:00";const o=Math.floor(n.status.recording_duration_ms/1e3),c=Math.floor(o/3600),k=Math.floor(o%3600/60),C=o%60;return`${c.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`}),_=h(()=>{var M;if(!((M=n.status)!=null&&M.booking))return null;const o=new Date,k=new Date(`${n.status.booking.date} ${n.status.booking.slot_end}`).getTime()-o.getTime();return k<=0?"Time expired":`${Math.floor(k/6e4)} min left`}),$=h(()=>g[b.value]),D=h(()=>{var c;return(((c=n.status)==null?void 0:c.teleprompter_scroll_speed)||50)/100*4.5+.5}),f=h(()=>{var o;return((o=n.status)==null?void 0:o.teleprompter_script)||"No script loaded. Please add a script in the booking settings."});function r(o){if(d.value)switch(o.key){case" ":o.preventDefault(),p.value=!p.value;break;case"ArrowUp":o.preventDefault(),u.value=Math.max(0,u.value-50);break;case"ArrowDown":o.preventDefault(),u.value+=50;break;case"h":case"H":o.preventDefault(),v.value=!v.value;break}}function m(){function o(){p.value||(u.value+=D.value),w=requestAnimationFrame(o)}o()}return(o,c)=>(s(),a("div",xt,[d.value?(s(),a("div",bt,[t("div",yt,[t("div",$t,[c[0]||(c[0]=t("span",{class:"recording-badge"},[t("span",{class:"recording-dot"}),T(" REC ")],-1)),t("div",wt,e(l.value),1)]),_.value?(s(),a("div",St,e(_.value),1)):x("",!0)])])):x("",!0),d.value?(s(),a("div",Vt,[t("div",Rt,[t("div",{class:"teleprompter-text",style:F({transform:`translateY(-${u.value}px) scaleX(-1)`})},[t("div",Bt,e(f.value),1)],4)]),v.value?(s(),a("div",Nt,[...c[1]||(c[1]=[t("div",{class:"camera-placeholder"},[t("svg",{class:"w-12 h-12 text-preke-text-subtle",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})]),t("span",{class:"text-xs"},"Camera Preview")],-1)])])):x("",!0)])):(s(),a("div",Dt,[t("div",Tt,[t("div",Mt,[t("div",Ct,e($.value.icon),1),t("h2",It,e($.value.title),1),t("p",jt,e($.value.description),1)]),t("div",Lt,[(s(),a(I,null,j(g,(k,C)=>t("span",{key:C,class:L(["tip-dot",{active:C===b.value}])},null,2)),64))])])])),d.value?(s(),a("div",Pt,[t("div",At,[t("div",zt,[t("div",Ft,[c[2]||(c[2]=t("kbd",null,"Space",-1)),T(" "+e(p.value?"Resume":"Pause"),1)]),c[4]||(c[4]=t("div",{class:"control-hint"},[t("kbd",null,"â†‘â†“"),T(" Manual Scroll ")],-1)),t("div",Ht,[c[3]||(c[3]=t("kbd",null,"H",-1)),T(" "+e(v.value?"Hide":"Show")+" Camera ",1)])]),t("div",Ut,[t("span",Et,"Speed: "+e(i.status.teleprompter_scroll_speed)+"%",1),p.value?(s(),a("span",Ot,"â¸ PAUSED")):x("",!0)])])])):x("",!0)]))}}),Yt=N(Gt,[["__scopeId","data-v-4eb2f167"]]),qt={class:"webinar-display"},Wt={class:"display-header"},Kt={class:"flex items-center justify-between"},Jt={class:"flex items-center gap-6"},Xt=["src"],Qt={class:"text-2xl font-bold"},Zt={class:"text-lg text-preke-text-dim"},te={class:"flex items-center gap-6"},ee={key:0,class:"recording-badge"},se={class:"text-right"},ae={class:"text-3xl font-mono font-bold"},oe={key:0,class:"text-sm text-preke-text-muted"},ne={key:0,class:"display-main"},ie={class:"tips-container"},le={class:"tip-card"},re={class:"tip-icon"},ce={class:"tip-title"},de={class:"tip-description"},ue={class:"tip-indicators"},pe={key:1,class:"display-main webinar-mode"},ve={key:0,class:"vdo-status"},_e={key:1,class:"vdo-status"},me={key:2,class:"vdo-container"},he=["src"],ge={class:"display-footer"},fe={class:"flex items-center justify-between"},ke={class:"flex items-center gap-4"},xe={class:"text-preke-text-muted"},be={class:"flex items-center gap-4 text-preke-text-muted"},ye={class:"flex items-center gap-2"},$e=V({__name:"WebinarDisplay",props:{status:{}},setup(i){const n=i,b=A(),u=h(()=>b.params.token),p=S(0),v=S(!0),y=S(null),w=S(!0);let g=null;const d=[{icon:"ðŸŽ¥",title:"Check Your Audio and Video Settings",description:"Test your microphone and camera before starting"},{icon:"ðŸ”‡",title:"Mute When Not Speaking",description:"Reduce background noise for better audio quality"},{icon:"ðŸ’¡",title:"Use Good Lighting",description:"Face a light source for clear video"},{icon:"ðŸ–¼ï¸",title:"Minimize Background Distractions",description:"Choose a clean, professional background"},{icon:"ðŸ“Š",title:"Have Your Presentation Ready",description:"Prepare slides and materials in advance"}];R(async()=>{await l(),g=window.setInterval(()=>{p.value=(p.value+1)%d.length},5e3)}),B(()=>{g&&clearInterval(g)});async function l(){try{const r=await z.wordpress.checkVdoNinjaStatus(u.value);if(v.value=r.available,r.available&&r.url){const m=`r58-${n.status.booking.id}`;y.value=`${r.url}/?room=${m}&scene&cleanoutput&darkmode`}}catch(r){console.error("Failed to check VDO.ninja status:",r),v.value=!1}finally{w.value=!1}}const _=h(()=>{var r;return((r=n.status)==null?void 0:r.recording_active)||!1}),$=h(()=>{var k;if(!((k=n.status)!=null&&k.recording_duration_ms))return"00:00:00";const r=Math.floor(n.status.recording_duration_ms/1e3),m=Math.floor(r/3600),o=Math.floor(r%3600/60),c=r%60;return`${m.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`}),D=h(()=>{var k;if(!((k=n.status)!=null&&k.booking))return null;const r=new Date,o=new Date(`${n.status.booking.date} ${n.status.booking.slot_end}`).getTime()-r.getTime();return o<=0?"Time expired":`${Math.floor(o/6e4)} min left`}),f=h(()=>d[p.value]);return(r,m)=>{var o,c,k;return s(),a("div",qt,[t("div",Wt,[t("div",Kt,[t("div",Jt,[(o=i.status.booking.client)!=null&&o.logo_url?(s(),a("img",{key:0,src:i.status.booking.client.logo_url,alt:"Logo",class:"h-16 object-contain"},null,8,Xt)):x("",!0),t("div",null,[t("h1",Qt,e(((c=i.status.booking.customer)==null?void 0:c.name)||"Guest"),1),t("p",Zt,e((k=i.status.booking.client)==null?void 0:k.name),1)])]),t("div",te,[_.value?(s(),a("div",ee,[...m[0]||(m[0]=[t("span",{class:"recording-dot"},null,-1),T(" REC ",-1)])])):x("",!0),t("div",se,[t("div",ae,e($.value),1),D.value?(s(),a("div",oe,e(D.value),1)):x("",!0)])])])]),_.value?(s(),a("div",pe,[w.value?(s(),a("div",ve,[...m[1]||(m[1]=[t("div",{class:"animate-spin w-12 h-12 border-4 border-preke-gold border-t-transparent rounded-full mx-auto mb-4"},null,-1),t("p",{class:"text-xl text-preke-text-dim"},"Connecting to VDO.ninja...",-1)])])):v.value?y.value?(s(),a("div",me,[t("iframe",{src:y.value,class:"vdo-iframe",allow:"camera; microphone; display-capture; autoplay; clipboard-write",allowfullscreen:""},null,8,he),m[3]||(m[3]=t("div",{class:"recording-indicator"},[t("span",{class:"recording-dot"}),T(" RECORDING ")],-1))])):x("",!0):(s(),a("div",_e,[...m[2]||(m[2]=[H('<svg class="w-20 h-20 text-preke-red mx-auto mb-4" fill="currentColor" viewBox="0 0 20 20" data-v-d86d81b0><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" data-v-d86d81b0></path></svg><h2 class="text-2xl font-bold mb-2" data-v-d86d81b0>VDO.ninja Offline</h2><p class="text-lg text-preke-text-dim" data-v-d86d81b0>Cannot connect to vdo.itagenten.no</p><p class="text-sm text-preke-text-muted mt-4" data-v-d86d81b0>Please check your internet connection or contact support</p>',4)])]))])):(s(),a("div",ne,[t("div",ie,[t("div",le,[t("div",re,e(f.value.icon),1),t("h2",ce,e(f.value.title),1),t("p",de,e(f.value.description),1)]),t("div",ue,[(s(),a(I,null,j(d,(C,M)=>t("span",{key:M,class:L(["tip-dot",{active:M===p.value}])},null,2)),64))])])])),t("div",ge,[t("div",fe,[t("div",ke,[t("span",xe,e(i.status.booking.date)+" â€¢ "+e(i.status.booking.slot_start)+" - "+e(i.status.booking.slot_end),1)]),t("div",be,[t("span",null,e(i.status.disk_space_gb.toFixed(1))+" GB available",1),t("span",ye,[t("span",{class:L(["w-3 h-3 rounded-full",v.value?"bg-preke-green":"bg-preke-red"])},null,2),T(" "+e(v.value?"VDO.ninja Connected":"VDO.ninja Offline"),1)])])])])])}}}),we=N($e,[["__scopeId","data-v-d86d81b0"]]),Se={class:"studio-display"},De={key:0,class:"display-content"},Te={key:1,class:"display-content"},Me={class:"text-center"},Ce={class:"text-xl text-preke-text-dim"},Ie={key:2,class:"display-content"},je={key:3,class:"text-center"},Le={class:"text-2xl text-preke-text-dim"},Ve=V({__name:"StudioDisplayView",setup(i){const n=A(),b=h(()=>n.params.token),u=S(null),p=S(!0),v=S(null);let y=null;R(async()=>{await w(),y=window.setInterval(w,2e3)}),B(()=>{y&&clearInterval(y)});async function w(){try{const d=await z.wordpress.getCustomerStatus(b.value);u.value=d,v.value=null}catch(d){p.value&&(v.value=d.message||"Invalid session")}finally{p.value=!1}}const g=h(()=>{var d;return((d=u.value)==null?void 0:d.display_mode)||"podcast"});return(d,l)=>(s(),a("div",Se,[l[3]||(l[3]=t("div",{class:"display-bg"},[t("div",{class:"bg-orb bg-orb--1"}),t("div",{class:"bg-orb bg-orb--2"})],-1)),p.value?(s(),a("div",De,[...l[0]||(l[0]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin w-16 h-16 border-4 border-preke-gold border-t-transparent rounded-full mx-auto mb-6"}),t("p",{class:"text-2xl text-preke-text-dim"},"Loading session...")],-1)])])):v.value?(s(),a("div",Te,[t("div",Me,[l[1]||(l[1]=t("svg",{class:"w-24 h-24 text-preke-red mx-auto mb-6",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"})],-1)),l[2]||(l[2]=t("h2",{class:"text-3xl font-bold mb-4"},"Session Not Found",-1)),t("p",Ce,e(v.value),1)])])):u.value?(s(),a("div",Ie,[g.value==="podcast"?(s(),P(kt,{key:0,status:u.value},null,8,["status"])):g.value==="teleprompter"?(s(),P(Yt,{key:1,status:u.value},null,8,["status"])):g.value==="webinar"?(s(),P(we,{key:2,status:u.value},null,8,["status"])):(s(),a("div",je,[t("p",Le,"Unknown display mode: "+e(g.value),1)]))])):x("",!0)]))}}),Be=N(Ve,[["__scopeId","data-v-46b5c1cb"]]);export{Be as default};
