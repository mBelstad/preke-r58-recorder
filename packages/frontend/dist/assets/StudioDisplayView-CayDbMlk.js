import{d as j,G,r as T,o as B,p as N,l as p,K as M,w as I,e,c as l,F as O,z as K,g as U,t as s,f as m,n as F,y as C,k as i,_ as V,C as Y,a2 as W,J as z}from"./index-51tLXJEQ.js";import{_ as E}from"./InputPreview.vue_vue_type_script_setup_true_lang-ijyZF2No.js";import{S as L}from"./StudioDisplayShell-CDM7sgBi.js";import"./AnimatedBackground-7lCWB0G6.js";const q={class:"podcast-display__timing"},J={class:"podcast-display__timer"},X={key:0,class:"podcast-display__remaining"},Q={class:"podcast-display__layout"},Z={class:"podcast-display__left glass-card"},ee={key:0,class:"podcast-display__grid"},se={class:"podcast-display__camera-label"},te={key:1,class:"podcast-display__tip"},ae={class:"podcast-display__tip-icon"},ie={class:"podcast-display__tip-title"},oe={class:"podcast-display__tip-text"},le={class:"podcast-display__right"},ne={class:"podcast-display__card glass-panel"},re={class:"podcast-display__value"},de={class:"podcast-display__meta"},ce={key:0},ue={key:1},pe={class:"podcast-display__meta"},_e={key:0,class:"podcast-display__card glass-panel"},ve={class:"podcast-display__slide"},ye=["src","alt"],me={class:"podcast-display__card glass-panel"},ge={key:0,class:"podcast-display__meta"},he={class:"podcast-display__footer-left"},fe={key:0,class:"podcast-display__rec-badge"},be={key:0,class:"podcast-display__footer-right"},we=j({__name:"PodcastDisplay",props:{status:{},isPreview:{type:Boolean}},setup(d){const t=d,w=G(),g=T(0);let h=null;const u=[{icon:"ðŸŽ¤",title:"Use the Shure SM7B Microphone",description:"Speak directly into the microphone for best audio quality"},{icon:"ðŸŽ§",title:"Headset Available",description:"A headset is available if you prefer"},{icon:"ðŸ‘€",title:"Look at the Host",description:"Not at the camera - maintain natural conversation"},{icon:"ðŸ’‡",title:"Check Your Hair",description:"Keep hair away from your face for best visibility"},{icon:"ðŸ˜Œ",title:"Relax and Be Natural",description:"Speak naturally and take your time"}];let f=null;B(async()=>{h=window.setInterval(()=>{g.value=(g.value+1)%u.length},5e3),console.log("[PodcastDisplay] Fetching camera inputs"),await w.fetchInputs(),f=window.setInterval(()=>{w.fetchInputs()},2e3)}),N(()=>{h&&clearInterval(h),f&&clearInterval(f)});const b=p(()=>{var o;return((o=t.status)==null?void 0:o.recording_active)||!1}),S=p(()=>{var c;if(!((c=t.status)!=null&&c.recording_duration_ms))return"00:00:00";const o=Math.floor(t.status.recording_duration_ms/1e3),a=Math.floor(o/3600),r=Math.floor(o%3600/60),n=o%60;return`${a.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}),D=p(()=>{var c;if(!((c=t.status)!=null&&c.booking))return null;const o=new Date,r=new Date(`${t.status.booking.date} ${t.status.booking.slot_end}`).getTime()-o.getTime();return r<=0?"Time expired":`${Math.floor(r/6e4)} min left`}),k=p(()=>{var o,a;return(a=(o=t.status)==null?void 0:o.project)!=null&&a.graphics?t.status.project.graphics[t.status.current_slide_index]:null}),y=p(()=>u[g.value]),_=p(()=>w.inputs.filter(o=>o.hasSignal).slice(0,4));return(o,a)=>(i(),M(L,{title:"Podcast Session",subtitle:"Live multi-cam recording",accent:"gold","show-footer":!0,"main-class":"podcast-display__main"},{"header-right":I(()=>[e("div",q,[e("div",J,s(S.value),1),D.value?(i(),l("div",X,s(D.value),1)):m("",!0)])]),footer:I(()=>[e("div",he,[b.value?(i(),l("span",fe,[...a[5]||(a[5]=[e("span",{class:"podcast-display__rec-dot"},null,-1),C(" REC ",-1)])])):m("",!0),a[6]||(a[6]=e("span",{class:"podcast-display__footer-text"},"Stay close to the mic and speak clearly.",-1))]),d.isPreview?m("",!0):(i(),l("div",be," System connected "))]),default:I(()=>{var r,n,c;return[e("div",Q,[e("section",Z,[_.value.length>0?(i(),l("div",ee,[(i(!0),l(O,null,K(_.value,x=>(i(),l("div",{key:x.id,class:"podcast-display__camera"},[e("div",se,s(x.label),1),U(E,{"input-id":x.id},null,8,["input-id"])]))),128)),(i(!0),l(O,null,K(4-_.value.length,x=>(i(),l("div",{key:`empty-${x}`,class:"podcast-display__camera podcast-display__camera--empty"},[...a[0]||(a[0]=[e("span",null,"No Camera",-1)])]))),128))])):(i(),l("div",te,[e("div",ae,s(y.value.icon),1),e("h2",ie,s(y.value.title),1),e("p",oe,s(y.value.description),1)]))]),e("aside",le,[e("div",ne,[a[1]||(a[1]=e("div",{class:"podcast-display__label"},"Session",-1)),e("div",re,s(((r=d.status.booking.customer)==null?void 0:r.name)||"Guest"),1),e("div",de,[(n=d.status.booking.client)!=null&&n.name?(i(),l("span",ce,s(d.status.booking.client.name),1)):m("",!0),(c=d.status.project)!=null&&c.name?(i(),l("span",ue,"â€¢ "+s(d.status.project.name),1)):m("",!0)]),e("div",pe,s(d.status.booking.date)+" â€¢ "+s(d.status.booking.slot_start)+" - "+s(d.status.booking.slot_end),1)]),k.value?(i(),l("div",_e,[a[2]||(a[2]=e("div",{class:"podcast-display__label"},"Current Slide",-1)),e("div",ve,[e("img",{src:k.value.url,alt:k.value.filename},null,8,ye),e("span",null,"Slide "+s(d.status.current_slide_index+1)+" / "+s(d.status.project.graphics.length),1)])])):m("",!0),e("div",me,[a[4]||(a[4]=e("div",{class:"podcast-display__label"},"Status",-1)),e("div",{class:F(["podcast-display__status",{"podcast-display__status--live":b.value}])},[a[3]||(a[3]=e("span",{class:"podcast-display__status-dot"},null,-1)),C(" "+s(b.value?"Recording in progress":"Ready to record"),1)],2),!d.isPreview&&d.status.disk_space_gb?(i(),l("div",ge,s(d.status.disk_space_gb.toFixed(1))+" GB available ",1)):m("",!0)])])])]}),_:1}))}}),ke=V(we,[["__scopeId","data-v-908d6554"]]),$e={class:"teleprompter-display__timing"},Se={class:"teleprompter-display__timer"},xe={key:0,class:"teleprompter-display__remaining"},De={class:"teleprompter-display__layout"},Te={class:"teleprompter-display__script glass-card"},Ie={class:"teleprompter-display__text-content"},Pe={class:"teleprompter-display__side"},Ce={class:"teleprompter-display__card glass-panel"},Me={class:"teleprompter-display__tip-title"},Re={class:"teleprompter-display__tip-text"},je={class:"teleprompter-display__card glass-panel"},Be={class:"teleprompter-display__meta"},Ne={key:0,class:"teleprompter-display__card glass-panel teleprompter-display__camera"},Ve={key:0,class:"teleprompter-display__camera-frame"},Ae={class:"teleprompter-display__camera-label"},Fe={key:1,class:"teleprompter-display__camera-empty"},Le={class:"teleprompter-display__footer-left"},Ge={class:"teleprompter-display__footer-text"},Ue={key:0,class:"teleprompter-display__footer-right"},Ee=j({__name:"TeleprompterDisplay",props:{status:{},isPreview:{type:Boolean}},setup(d){const t=d,w=G(),g=T(0),h=T(0),u=T(!1),f=T(!1);let b=null,S=null;const D=[{icon:"ðŸŽ¯",title:"Look Directly at the Camera Lens",description:"Maintain eye contact with the lens for a natural connection"},{icon:"ðŸ—£ï¸",title:"Speak at a Steady, Natural Pace",description:"Take your time and speak clearly"},{icon:"â¸ï¸",title:"Use the Pause Function",description:"Press Space to pause and collect your thoughts"},{icon:"âš¡",title:"Adjust Scroll Speed",description:"Use +/- keys to match your reading pace"},{icon:"ðŸŒ¬ï¸",title:"Take a Breath Between Sections",description:"Pause naturally between paragraphs"}];let k=null;B(async()=>{b=window.setInterval(()=>{g.value=(g.value+1)%D.length},5e3),window.addEventListener("keydown",x),y.value&&P(),console.log("[TeleprompterDisplay] Fetching camera inputs"),await w.fetchInputs(),k=window.setInterval(()=>{w.fetchInputs()},2e3)}),N(()=>{b&&clearInterval(b),k&&clearInterval(k),S&&cancelAnimationFrame(S),window.removeEventListener("keydown",x)});const y=p(()=>{var v;return((v=t.status)==null?void 0:v.recording_active)||!1}),_=p(()=>{var R;if(!((R=t.status)!=null&&R.recording_duration_ms))return"00:00:00";const v=Math.floor(t.status.recording_duration_ms/1e3),$=Math.floor(v/3600),A=Math.floor(v%3600/60),H=v%60;return`${$.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`}),o=p(()=>{var R;if(!((R=t.status)!=null&&R.booking))return null;const v=new Date,A=new Date(`${t.status.booking.date} ${t.status.booking.slot_end}`).getTime()-v.getTime();return A<=0?"Time expired":`${Math.floor(A/6e4)} min left`}),a=p(()=>D[g.value]),r=p(()=>{var $;return((($=t.status)==null?void 0:$.teleprompter_scroll_speed)||50)/100*4.5+.5}),n=p(()=>{var v;return t.isPreview?`This is a preview of the teleprompter display.

When a script is loaded, it will appear here and scroll automatically during recording.

Use the arrow keys to scroll manually, or press Space to pause.`:((v=t.status)==null?void 0:v.teleprompter_script)||"No script loaded. Please add a script in the booking settings."}),c=p(()=>w.inputs.find(v=>v.hasSignal)||null);function x(v){if(y.value)switch(v.key){case" ":v.preventDefault(),u.value=!u.value;break;case"ArrowUp":v.preventDefault(),h.value=Math.max(0,h.value-50);break;case"ArrowDown":v.preventDefault(),h.value+=50;break;case"h":case"H":v.preventDefault(),f.value=!f.value;break}}function P(){function v(){u.value||(h.value+=r.value),S=requestAnimationFrame(v)}v()}return(v,$)=>(i(),M(L,{title:"Talking Head",subtitle:"Teleprompter mode",accent:"purple","show-footer":y.value,"main-class":"teleprompter-display__main"},{"header-right":I(()=>[e("div",$e,[e("span",Se,s(_.value),1),o.value?(i(),l("span",xe,s(o.value),1)):m("",!0)])]),footer:I(()=>[e("div",Le,[$[4]||($[4]=e("span",{class:"teleprompter-display__rec-badge"},[e("span",{class:"teleprompter-display__rec-dot"}),C(" REC ")],-1)),e("span",Ge," Space = "+s(u.value?"Resume":"Pause")+" â€¢ â†‘â†“ = Scroll â€¢ H = "+s(f.value?"Hide":"Show")+" Camera ",1)]),u.value?(i(),l("div",Ue," â¸ Paused ")):m("",!0)]),default:I(()=>[e("div",De,[e("section",Te,[e("div",{class:"teleprompter-display__text",style:Y({transform:`translateY(-${h.value}px) scaleX(-1)`})},[e("div",Ie,s(n.value),1)],4)]),e("aside",Pe,[e("div",Ce,[$[0]||($[0]=e("div",{class:"teleprompter-display__label"},"Tip",-1)),e("div",Me,s(a.value.title),1),e("div",Re,s(a.value.description),1)]),e("div",je,[$[2]||($[2]=e("div",{class:"teleprompter-display__label"},"Status",-1)),e("div",{class:F(["teleprompter-display__status",{"teleprompter-display__status--live":y.value}])},[$[1]||($[1]=e("span",{class:"teleprompter-display__status-dot"},null,-1)),C(" "+s(y.value?"Recording":"Ready for recording"),1)],2),e("div",Be," Scroll speed: "+s(d.status.teleprompter_scroll_speed||50)+"% ",1)]),f.value?(i(),l("div",Ne,[$[3]||($[3]=e("div",{class:"teleprompter-display__label"},"Camera Preview",-1)),c.value?(i(),l("div",Ve,[e("div",Ae,s(c.value.label),1),U(E,{"input-id":c.value.id},null,8,["input-id"])])):(i(),l("div",Fe,"No camera signal"))])):m("",!0)])])]),_:1},8,["show-footer"]))}}),He=V(Ee,[["__scopeId","data-v-cd7eb85a"]]),Oe={class:"webinar-display__timing"},Ke={class:"webinar-display__timer"},We={key:0,class:"webinar-display__remaining"},ze={class:"webinar-display__layout"},Ye={class:"webinar-display__left glass-card"},qe={key:0,class:"webinar-display__tip"},Je={class:"webinar-display__tip-icon"},Xe={class:"webinar-display__tip-title"},Qe={class:"webinar-display__tip-text"},Ze={key:1,class:"webinar-display__vdo"},es={key:0,class:"webinar-display__vdo-status"},ss={key:1,class:"webinar-display__vdo-status"},ts={key:2,class:"webinar-display__vdo-frame"},as=["src"],is={class:"webinar-display__right"},os={class:"webinar-display__card glass-panel"},ls={class:"webinar-display__value"},ns={class:"webinar-display__meta"},rs={key:0},ds={key:1},cs={class:"webinar-display__meta"},us={class:"webinar-display__card glass-panel"},ps={key:0,class:"webinar-display__meta"},_s={class:"webinar-display__footer-left"},vs={key:0,class:"webinar-display__rec-badge"},ys={class:"webinar-display__footer-right"},ms=j({__name:"WebinarDisplay",props:{status:{},isPreview:{type:Boolean}},setup(d){const t=d,w=W(),g=p(()=>w.params.token),h=T(0),u=T(!0),f=T(null),b=T(!0);let S=null;const D=[{icon:"ðŸŽ¥",title:"Check Your Audio and Video Settings",description:"Test your microphone and camera before starting"},{icon:"ðŸ”‡",title:"Mute When Not Speaking",description:"Reduce background noise for better audio quality"},{icon:"ðŸ’¡",title:"Use Good Lighting",description:"Face a light source for clear video"},{icon:"ðŸ–¼ï¸",title:"Minimize Background Distractions",description:"Choose a clean, professional background"},{icon:"ðŸ“Š",title:"Have Your Presentation Ready",description:"Prepare slides and materials in advance"}];B(async()=>{t.isPreview?(b.value=!1,u.value=!1):await k(),S=window.setInterval(()=>{h.value=(h.value+1)%D.length},5e3)}),N(()=>{S&&clearInterval(S)});async function k(){try{const r=await z.wordpress.checkVdoNinjaStatus(g.value);if(u.value=r.available,r.available&&r.url){const n=`r58-${t.status.booking.id}`;f.value=`${r.url}/?room=${n}&scene&cleanoutput&darkmode`}}catch(r){console.error("Failed to check VDO.ninja status:",r),u.value=!1}finally{b.value=!1}}const y=p(()=>{var r;return((r=t.status)==null?void 0:r.recording_active)||!1}),_=p(()=>{var P;if(!((P=t.status)!=null&&P.recording_duration_ms))return"00:00:00";const r=Math.floor(t.status.recording_duration_ms/1e3),n=Math.floor(r/3600),c=Math.floor(r%3600/60),x=r%60;return`${n.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`}),o=p(()=>{var P;if(!((P=t.status)!=null&&P.booking))return null;const r=new Date,c=new Date(`${t.status.booking.date} ${t.status.booking.slot_end}`).getTime()-r.getTime();return c<=0?"Time expired":`${Math.floor(c/6e4)} min left`}),a=p(()=>D[h.value]);return(r,n)=>(i(),M(L,{title:"Webinar Session",subtitle:"Remote guest experience",accent:"blue","show-footer":!0,"main-class":"webinar-display__main"},{"header-right":I(()=>[e("div",Oe,[e("div",Ke,s(_.value),1),o.value?(i(),l("div",We,s(o.value),1)):m("",!0)])]),footer:I(()=>[e("div",_s,[y.value?(i(),l("span",vs,[...n[6]||(n[6]=[e("span",{class:"webinar-display__rec-dot"},null,-1),C(" REC ",-1)])])):m("",!0),n[7]||(n[7]=e("span",{class:"webinar-display__footer-text"},"Keep your microphone muted when not speaking.",-1))]),e("div",ys,s(u.value?"Video link active":"Video link offline"),1)]),default:I(()=>{var c,x,P;return[e("div",ze,[e("section",Ye,[y.value?(i(),l("div",Ze,[b.value?(i(),l("div",es,[...n[0]||(n[0]=[e("div",{class:"webinar-display__spinner"},null,-1),e("p",null,"Connecting to VDO.ninja...",-1)])])):!u.value&&!d.isPreview?(i(),l("div",ss,[...n[1]||(n[1]=[e("h2",null,"VDO.ninja Offline",-1),e("p",null,"Please check the internet connection.",-1)])])):f.value?(i(),l("div",ts,[e("iframe",{src:f.value,class:"webinar-display__vdo-iframe",allow:"camera; microphone; display-capture; autoplay; clipboard-write",allowfullscreen:""},null,8,as),n[2]||(n[2]=e("div",{class:"webinar-display__recording-indicator"},[e("span",{class:"webinar-display__recording-dot"}),C(" RECORDING ")],-1))])):m("",!0)])):(i(),l("div",qe,[e("div",Je,s(a.value.icon),1),e("h2",Xe,s(a.value.title),1),e("p",Qe,s(a.value.description),1)]))]),e("aside",is,[e("div",os,[n[3]||(n[3]=e("div",{class:"webinar-display__label"},"Session",-1)),e("div",ls,s(((c=d.status.booking.customer)==null?void 0:c.name)||"Guest"),1),e("div",ns,[(x=d.status.booking.client)!=null&&x.name?(i(),l("span",rs,s(d.status.booking.client.name),1)):m("",!0),(P=d.status.project)!=null&&P.name?(i(),l("span",ds,"â€¢ "+s(d.status.project.name),1)):m("",!0)]),e("div",cs,s(d.status.booking.date)+" â€¢ "+s(d.status.booking.slot_start)+" - "+s(d.status.booking.slot_end),1)]),e("div",us,[n[5]||(n[5]=e("div",{class:"webinar-display__label"},"Connection",-1)),e("div",{class:F(["webinar-display__status",{"webinar-display__status--ok":u.value}])},[n[4]||(n[4]=e("span",{class:"webinar-display__status-dot"},null,-1)),C(" "+s(u.value?"VDO.ninja connected":"Waiting for VDO.ninja"),1)],2),!d.isPreview&&d.status.disk_space_gb?(i(),l("div",ps,s(d.status.disk_space_gb.toFixed(1))+" GB available ",1)):m("",!0)])])])]}),_:1}))}}),gs=V(ms,[["__scopeId","data-v-fb6768a6"]]),hs={class:"course-display__timing"},fs={class:"course-display__timer"},bs={key:0,class:"course-display__remaining"},ws={class:"course-display__layout"},ks={class:"course-display__slides glass-card"},$s={key:0,class:"course-display__slide"},Ss=["src","alt"],xs={class:"course-display__slide-count"},Ds={key:1,class:"course-display__tip"},Ts={class:"course-display__tip-icon"},Is={class:"course-display__tip-title"},Ps={class:"course-display__tip-text"},Cs={class:"course-display__side"},Ms={class:"course-display__card glass-panel"},Rs={key:0,class:"course-display__camera"},js={class:"course-display__camera-label"},Bs={key:1,class:"course-display__camera-empty"},Ns={class:"course-display__card glass-panel"},Vs={class:"course-display__value"},As={class:"course-display__meta"},Fs={key:0},Ls={key:1},Gs={class:"course-display__meta"},Us={class:"course-display__card glass-panel"},Es={key:0,class:"course-display__meta"},Hs={class:"course-display__footer-left"},Os={key:0,class:"course-display__rec-badge"},Ks=j({__name:"CourseDisplay",props:{status:{},isPreview:{type:Boolean}},setup(d){const t=d,w=G(),g=T(0);let h=null,u=null;const f=[{icon:"ðŸŽ“",title:"Keep your slides simple",description:"Big text and clear visuals work best on camera"},{icon:"ðŸ§­",title:"Guide the viewer",description:"Use short sections and clear takeaways"},{icon:"ðŸŽ¤",title:"Audio is everything",description:"Speak close to the microphone for clarity"},{icon:"â±ï¸",title:"Keep the pace steady",description:"Pause between points to keep it easy to follow"}];B(async()=>{h=window.setInterval(()=>{g.value=(g.value+1)%f.length},6e3),await w.fetchInputs(),u=window.setInterval(()=>{w.fetchInputs()},2e3)}),N(()=>{h&&clearInterval(h),u&&clearInterval(u)});const b=p(()=>{var o;return((o=t.status)==null?void 0:o.recording_active)||!1}),S=p(()=>{var c;if(!((c=t.status)!=null&&c.recording_duration_ms))return"00:00:00";const o=Math.floor(t.status.recording_duration_ms/1e3),a=Math.floor(o/3600),r=Math.floor(o%3600/60),n=o%60;return`${a.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}),D=p(()=>{var c;if(!((c=t.status)!=null&&c.booking))return null;const o=new Date,r=new Date(`${t.status.booking.date} ${t.status.booking.slot_end}`).getTime()-o.getTime();return r<=0?"Time expired":`${Math.floor(r/6e4)} min left`}),k=p(()=>{var o,a;return(a=(o=t.status)==null?void 0:o.project)!=null&&a.graphics?t.status.project.graphics[t.status.current_slide_index]:null}),y=p(()=>f[g.value]),_=p(()=>w.inputs.find(o=>o.hasSignal)||null);return(o,a)=>(i(),M(L,{title:"Course Session",subtitle:"Presentation + recording",accent:"blue","show-footer":!0,"main-class":"course-display__main"},{"header-right":I(()=>[e("div",hs,[e("div",fs,s(S.value),1),D.value?(i(),l("div",bs,s(D.value),1)):m("",!0)])]),footer:I(()=>[e("div",Hs,[b.value?(i(),l("span",Os,[...a[4]||(a[4]=[e("span",{class:"course-display__rec-dot"},null,-1),C(" REC ",-1)])])):m("",!0),a[5]||(a[5]=e("span",{class:"course-display__footer-text"},"Keep the slide in sync with your talk.",-1))]),a[6]||(a[6]=e("div",{class:"course-display__footer-right"}," Slides will appear on this screen. ",-1))]),default:I(()=>{var r,n,c;return[e("div",ws,[e("section",ks,[k.value?(i(),l("div",$s,[e("img",{src:k.value.url,alt:k.value.filename},null,8,Ss),e("span",xs," Slide "+s(t.status.current_slide_index+1)+" / "+s(t.status.project.graphics.length),1)])):(i(),l("div",Ds,[e("div",Ts,s(y.value.icon),1),e("h2",Is,s(y.value.title),1),e("p",Ps,s(y.value.description),1)]))]),e("aside",Cs,[e("div",Ms,[a[0]||(a[0]=e("div",{class:"course-display__label"},"Presenter",-1)),_.value?(i(),l("div",Rs,[e("div",js,s(_.value.label),1),U(E,{"input-id":_.value.id},null,8,["input-id"])])):(i(),l("div",Bs,"Waiting for camera signal"))]),e("div",Ns,[a[1]||(a[1]=e("div",{class:"course-display__label"},"Session",-1)),e("div",Vs,s(((r=t.status.booking.customer)==null?void 0:r.name)||"Guest"),1),e("div",As,[(n=t.status.booking.client)!=null&&n.name?(i(),l("span",Fs,s(t.status.booking.client.name),1)):m("",!0),(c=t.status.project)!=null&&c.name?(i(),l("span",Ls,"â€¢ "+s(t.status.project.name),1)):m("",!0)]),e("div",Gs,s(t.status.booking.date)+" â€¢ "+s(t.status.booking.slot_start)+" - "+s(t.status.booking.slot_end),1)]),e("div",Us,[a[3]||(a[3]=e("div",{class:"course-display__label"},"Status",-1)),e("div",{class:F(["course-display__status",{"course-display__status--live":b.value}])},[a[2]||(a[2]=e("span",{class:"course-display__status-dot"},null,-1)),C(" "+s(b.value?"Recording":"Ready for recording"),1)],2),!t.isPreview&&t.status.disk_space_gb?(i(),l("div",Es,s(t.status.disk_space_gb.toFixed(1))+" GB available ",1)):m("",!0)])])])]}),_:1}))}}),Ws=V(Ks,[["__scopeId","data-v-364e63d5"]]),zs={class:"studio-display"},Ys={key:0,class:"display-content"},qs={key:1,class:"display-content"},Js={class:"text-center"},Xs={class:"text-xl text-preke-text-dim"},Qs={key:2,class:"display-content"},Zs={key:4,class:"text-center"},et={class:"text-2xl text-preke-text-dim"},st=j({__name:"StudioDisplayView",setup(d){const t=W(),w=p(()=>t.params.token),g=p(()=>!w.value),h=p(()=>{if(g.value){const _=t.name;if(_==="podcast-display")return"podcast";if(_==="talking-head-display")return"teleprompter";if(_==="course-display")return"course";if(_==="webinar-display")return"webinar"}return null}),u=T(null),f=T(!0),b=T(null);let S=null;B(async()=>{g.value?(console.log("[StudioDisplay] Direct access mode, route:",t.name,"mode:",h.value),D()):(console.log("[StudioDisplay] Token-based mode, token:",w.value),await k(),S=window.setInterval(k,2e3))}),N(()=>{S&&clearInterval(S)});function D(){const _=h.value||"podcast";console.log("[StudioDisplay] Creating mock status for mode:",_);const o=new Date,a=new Date(o.getTime()+60*60*1e3),r=o.toISOString().split("T")[0],n=o.toTimeString().slice(0,5),c=a.toTimeString().slice(0,5);u.value={booking:{id:0,date:r,slot_start:n,slot_end:c,customer:{name:"Demo Session",email:"demo@preke.no"},client:{name:"Preke Studio",logo_url:null}},project:{id:0,name:"Demo Recording",slug:"demo",graphics:[]},recording_active:!1,recording_duration_ms:0,current_slide_index:0,display_mode:_,is_preview:!0},f.value=!1,console.log("[StudioDisplay] Mock status created:",u.value)}async function k(){if(w.value)try{const _=await z.wordpress.getCustomerStatus(w.value);u.value=_,b.value=null}catch(_){f.value&&(b.value=_.message||"Invalid session")}finally{f.value=!1}}const y=p(()=>{var _;return g.value?h.value||"podcast":((_=u.value)==null?void 0:_.display_mode)||"podcast"});return(_,o)=>(i(),l("div",zs,[o[3]||(o[3]=e("div",{class:"display-bg"},[e("div",{class:"bg-orb bg-orb--1"}),e("div",{class:"bg-orb bg-orb--2"})],-1)),f.value?(i(),l("div",Ys,[...o[0]||(o[0]=[e("div",{class:"text-center"},[e("div",{class:"animate-spin w-16 h-16 border-4 border-preke-gold border-t-transparent rounded-full mx-auto mb-6"}),e("p",{class:"text-2xl text-preke-text-dim"},"Loading session...")],-1)])])):b.value?(i(),l("div",qs,[e("div",Js,[o[1]||(o[1]=e("svg",{class:"w-24 h-24 text-preke-red mx-auto mb-6",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"})],-1)),o[2]||(o[2]=e("h2",{class:"text-3xl font-bold mb-4"},"Session Not Found",-1)),e("p",Xs,s(b.value),1)])])):u.value?(i(),l("div",Qs,[y.value==="podcast"?(i(),M(ke,{key:0,status:u.value,"is-preview":g.value},null,8,["status","is-preview"])):y.value==="course"?(i(),M(Ws,{key:1,status:u.value,"is-preview":g.value},null,8,["status","is-preview"])):y.value==="teleprompter"?(i(),M(He,{key:2,status:u.value,"is-preview":g.value},null,8,["status","is-preview"])):y.value==="webinar"?(i(),M(gs,{key:3,status:u.value,"is-preview":g.value},null,8,["status","is-preview"])):(i(),l("div",Zs,[e("p",et,"Unknown display mode: "+s(y.value),1)]))])):m("",!0)]))}}),lt=V(st,[["__scopeId","data-v-d1ee6412"]]);export{lt as default};
