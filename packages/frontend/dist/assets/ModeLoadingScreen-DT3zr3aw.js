import{d as $,r as v,B as D,h as f,j as F,k as I,c as n,a as e,y as a,F as _,q as k,t as w,o as s,_ as R}from"./index-CDP5cfDP.js";const j={class:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-r58-bg-primary overflow-hidden"},z={class:"absolute inset-0"},L={class:"relative z-10 flex flex-col items-center gap-10"},A={class:"relative flex items-center justify-center"},q={key:0,class:"relative"},N={key:1,class:"flex items-end gap-1.5 h-14"},P={class:"text-center"},E={class:"text-r58-text-secondary text-lg"},O={class:"flex items-center gap-2"},U=$({__name:"ModeLoadingScreen",props:{mode:{},minTime:{default:1500},maxTime:{default:8e3},contentReady:{type:Boolean,default:!1}},emits:["ready"],setup(x,{emit:T}){const l=x,g=T,y=v(!1);let c=null,u=null;function b(){y.value&&l.contentReady&&g("ready")}D(()=>l.contentReady,d=>{d&&b()});const t=f(()=>l.mode==="recorder"?"#ef4444":"#3b82f6"),M=f(()=>l.mode==="recorder"?"Recorder":"Mixer"),C=f(()=>l.mode==="recorder"?"Multi-cam ISO Recording":"Live Switching & Streaming"),i=v([.3,.5,.8,1,.8,.5,.3]);let m=null;const S=v(Date.now());function h(){const d=(Date.now()-S.value)/1e3;i.value=i.value.map((r,o)=>{const p=o/i.value.length*Math.PI*2,B=Math.sin(d*3+p)*.4+.6;return Math.max(.2,Math.min(1,B))}),m=requestAnimationFrame(h)}return F(()=>{h(),c=setTimeout(()=>{y.value=!0,b()},l.minTime),u=setTimeout(()=>{g("ready")},l.maxTime)}),I(()=>{c&&clearTimeout(c),u&&clearTimeout(u),m&&cancelAnimationFrame(m)}),(d,r)=>(s(),n("div",j,[e("div",z,[e("div",{class:"absolute w-[600px] h-[600px] rounded-full blur-3xl opacity-20 animate-float-slow",style:a({background:`radial-gradient(circle, ${t.value} 0%, transparent 70%)`,left:"10%",top:"10%"})},null,4),e("div",{class:"absolute w-[400px] h-[400px] rounded-full blur-3xl opacity-15 animate-float-medium",style:a({background:`radial-gradient(circle, ${t.value} 0%, transparent 70%)`,right:"15%",bottom:"20%"})},null,4),r[0]||(r[0]=e("div",{class:"absolute inset-0 opacity-5",style:{"background-image":"linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)","background-size":"50px 50px"}},null,-1))]),e("div",L,[e("div",A,[e("div",{class:"absolute w-40 h-40 rounded-full animate-ping-slow opacity-20",style:a({backgroundColor:t.value})},null,4),e("div",{class:"relative w-32 h-32 rounded-full flex items-center justify-center backdrop-blur-sm",style:a({backgroundColor:`${t.value}15`,border:`2px solid ${t.value}40`})},[x.mode==="recorder"?(s(),n("div",q,[(s(),n("svg",{class:"w-16 h-16",style:a({color:t.value}),fill:"currentColor",viewBox:"0 0 24 24"},[...r[1]||(r[1]=[e("circle",{cx:"12",cy:"12",r:"8",class:"animate-pulse-glow"},null,-1)])],4)),e("div",{class:"absolute inset-0 rounded-full animate-spin-slow",style:a({border:`3px solid ${t.value}`,borderTopColor:"transparent"})},null,4)])):(s(),n("div",N,[(s(!0),n(_,null,k(i.value,(o,p)=>(s(),n("div",{key:p,class:"w-2 rounded-full transition-all duration-75",style:a({height:`${o*100}%`,backgroundColor:t.value,opacity:.6+o*.4})},null,4))),128))]))],4)]),e("div",P,[e("h2",{class:"text-4xl font-bold mb-3 tracking-tight",style:a({color:t.value})},w(M.value),5),e("p",E,w(C.value),1)]),e("div",O,[(s(),n(_,null,k(3,o=>e("div",{key:o,class:"w-2 h-2 rounded-full animate-bounce-dot",style:a({backgroundColor:t.value,animationDelay:`${(o-1)*.15}s`})},null,4)),64))])])]))}}),G=R(U,[["__scopeId","data-v-18c43b4a"]]);export{G as M};
