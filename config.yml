# R58 Recorder Configuration

# Platform will be auto-detected (macos or r58)
# You can override it here if needed
# On macOS, device paths are ignored (videotestsrc is used)
# On R58, use /dev/video0, /dev/video1, etc.
platform: auto

# Logging level: DEBUG, INFO, WARNING, ERROR
log_level: INFO

# MediaMTX configuration (optional)
mediamtx:
  enabled: true
  rtsp_port: 8554
  rtmp_port: 1935
  srt_port: 8890

# Mixer configuration (optional)
mixer:
  enabled: false  # Set to true to enable mixer
  output_resolution: 1920x1080
  output_bitrate: 8000  # kbps
  output_codec: h264  # h264 or h265
  recording_enabled: false  # Enable program output recording
  recording_path: /var/recordings/mixer/program_%Y%m%d_%H%M%S.mp4
  mediamtx_enabled: true  # Stream mixer output to MediaMTX
  mediamtx_path: mixer_program  # MediaMTX path for mixer output
  scenes_dir: scenes  # Directory for scene JSON files

# Camera configurations
cameras:
  cam0:
    device: /dev/video60  # HDMI-IN (rk_hdmirx)
    resolution: 1920x1080
    bitrate: 5000
    codec: h264
    output_path: /var/recordings/cam0/recording_%Y%m%d_%H%M%S.mp4
    mediamtx_enabled: true
    mediamtx_path: null  # Auto-generated if null: rtsp://localhost:8554/cam0

  cam1:
    device: /dev/video1
    resolution: 1920x1080
    bitrate: 5000
    codec: h264
    output_path: /var/recordings/cam1/recording_%Y%m%d_%H%M%S.mp4
    mediamtx_enabled: false
    mediamtx_path: null

  cam2:
    device: /dev/video2
    resolution: 1920x1080
    bitrate: 5000
    codec: h264
    output_path: /var/recordings/cam2/recording_%Y%m%d_%H%M%S.mp4
    mediamtx_enabled: false
    mediamtx_path: null

  cam3:
    device: /dev/video3
    resolution: 1920x1080
    bitrate: 5000
    codec: h265
    output_path: /var/recordings/cam3/recording_%Y%m%d_%H%M%S.mp4
    mediamtx_enabled: false
    mediamtx_path: null

